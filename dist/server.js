module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=52)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("styled-components")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-icons/fi")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("shortid")},function(e,t){e.exports=require("react-beautiful-dnd")},function(e,t){e.exports=require("react-aria-menubutton")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("react-head")},function(e,t){e.exports=require("slugify")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react-textarea-autosize")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-modal")},function(e,t){e.exports=require("later")},function(e,t){e.exports=require("date-fns/difference_in_calendar_days")},function(e,t){e.exports=require("normalizr")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports="/static/images/postits-1920.c6070a.jpg"},function(e,t){e.exports=require("mongodb")},function(e,t){e.exports=require("connect-mongo")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("express-static-gzip")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("serve-favicon")},function(e,t){e.exports=require("morgan")},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports="/static/images/logo.37a890.png"},function(e,t){e.exports=require("react-onclickoutside")},function(e,t){e.exports=require("date-fns/format")},function(e,t){e.exports=require("react-day-picker")},function(e,t){e.exports=require("marked")},function(e,t){e.exports="/static/images/alarm.90a6d5.mp3"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNUNBMUNBQjA2OTIxMUU2OURGRURCMEQ1QUY5RERDRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNUNBMUNBQzA2OTIxMUU2OURGRURCMEQ1QUY5RERDRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIwRjQ1OEM2MDY0NzExRTY5REZFREIwRDVBRjlERENFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI1Q0ExQ0FBMDY5MjExRTY5REZFREIwRDVBRjlERENFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ga79WAAACh1JREFUeNrkW21MVWUcf7hcfOMdBURJBV9AUJs6Z6StF0ljrJe11Zc+tJplZetLa9M1V2vUZtZcbXxo1nSrLFqrzdmW2W1GQ4tISUVI8AKCIlwBhQuIILff7+k+djo759574NyXrWc74957Xp7n93/9/f/nIc7n84n/04gzAlxaWmrpIQkJCaK/v19cuXJFLF++XEybNk3cunVL/t7d3S06OjoemZiYqHY4HNdsXXxcnIiPjxdDQ0Oir69PzqmGmSKddk0OMHKSrq6u24tJTk4W9fX1lSMjI3dDCKsB2pa5FBgKlOPGjRsh3+u0U+KU8Pj4uFwID2i2AGBfmjFjhmvOnDlyYRSEHYDxTDEwMCAPK8Nppi0rg2bldDolYJrz7Nmz5eczZ85U+QWxIi0tTcyaNUt4vV4xPDwsFx0KeD6H4FJTU/9dNOaCIIXH47EsLKfZJFakTQH5wc7EIka4ECzoHmj0Tl4zNjaW3dnZWZmXl7edZl5UVCTBhmLiBNvT0yMaGxvlPTxoPdevXxejo6P2AOYEIT/gH2knIGC9CDAHAG6EZg1NPqq97tq1ay81NDScXL9+/SeFhYVy4bwu2KC11NXVCQjMFrczBIxFW9IuFvM5ImX53LlzP6T0c3NzxdmzZxP1i7x58+bHEIwX91Xhc0iAaboqSFFInE9Zx2SCoKkPc6JgvkzfHRwcnAewT/A7FpAEX/MSDD7/jJ9e0N/T3Nz85bFjx/7Myclpwr0B/ZhA6bvnz5+/DTgsGqbkly5dSjMMOBGDUEtLyzPq++XLlw/CrJlzRXFxcRW0uRef5+rvq62t/WDjxo1beF2geEGBMrI3NTWFFzBNMT09XWRlZcmoamY6M2fOpBbmq+/Q9MMXL158dcuWLe8jqPhg4o9BCL8auMxmCCp/+vTp7kBmzYjP+QnaauawxLSUJLFgefA7zVQ/sGBx9erVcoA8rP09Pz9/TVJS0ineC19+HaArDOYmnXNZSX3a9QXzYTOmZQhYsSaOlJQUkZ2dLRITEyVoHkogKoDAx2ow+d2aR1TPnz//XgYvRvETJ04cx/kS7RywnmwEuB61aM7Hg/PwHjI2+rg2WEUEsBoMHgAh6SKJA32PE1PLCHCz4WeXcc80/+WkP6k0yZKSElpBHlKSWz0Lgvi2rKzscT5HLZog/RZDH5eA9dHZDsAhU0smemp38eLFMu3404ycHN97AXp7W1vbPv/i21euXClB0EKQS1th1i4UGJv8vr8H36UGKRSSCwqQYEkw6LcRrZaMNKwnA/BTyXiYs1V1BM14IfVEEItSVE0uVjDwYXkeEX8fhLIVnLqioKBgF+8jUGaC3t5ecenSpYBVUcQ1rB1cIMHQxKklUjwEKS7ACY3u27RpkysjI0McOnRIXktTRTQuw61fIpDtAsWUbA7BTh407ajWw8E0rKWVGzZskJo+d+7cCnwv37Zt225GVPohigcpCLjDCuTkcmhmN92B1zO3hsK0oha0zBaydu1aUV5ezsolBSxqYNGiRcLlcgm32y3ApsS6devo6yk1NTUDBEhTDhVoOADfTgfawyqj4fVLliwRNGOjwbSmivWpdDbUQcsKRkSMcElsJhq+H787RIwMAJ7Amn4h61UWyCBpp0n7Yqm556+Bk7EmLz9zbXSLQGs0O+cwmaBHxNDgeqCEYWXGjAOTVYiZ2fbHEmCA64dGJ+i7PGyvlmA+3sm0T8I1kMcHmfOpVbIx2wGD+l2PJcBcD+prSVaQz/PxU16w3h+OYyGHb/jKVzwVKwd8uIrpiA0H0NRPQ7nHLC0Z+jBKNE8s+TDoqmfhwoWyYgP4pBBuGbcUtFAcxFSURr7tJh8nuYF5pwWNxA5HqyVGAtN5PpZMGlXVVgL2j8Fg18MSvjAzacOgBYrYGskKJtiYN29eK+twmvSRI0d2oELL9Ld9RqDN7cjLd+ia999ZMmk8oNWODqFdLGtoaMjNennZsmX050r8/Cbq6jeLiop24/wMvQfAGr61BHjBggUdkNxALAAm6finkdopqzCyLRYpa9asYR3+FCqxTO31aWlpP2L9Q5YAI9+NgtG0xgJgxBN3cnLyGM2Z76AJmO3hCxcuiLa2tmcNcvYngVpEDrNABv9oiQXAEHwzmwgErF7HEjT8OAfafUB3ORni1+yiWGJabNsgFTTGAmAAaGxvb5dtJOZimKtsGdXX1+/QXwv6WVlYWDgRSMNOk0RPKTZYebMexgjdwIY+u6Z+ATCIJXZ3d2/XX5uenv4ua+RAzQGnCdOiWZ9mAy7aA2Dr2SXlC3XVeqqurt6Lv/Ha62D2lTD5vpaWloAdG6dZDxqjCX7ch4dkRAssePMVaPQCQRAo01JXV9dKmOxz+rADU96pfN0yYJoywLKt8gcAPxgtwIjOdXQvFg0wbVkt1dXVfWZw3WsIZoM8H6wxYGjslOSqVavYfKuNskX/xojLN5mrV6/m69in8dsq3TXunJyc97m5hcGKW5h4WNKw6g5CsjVRZlnHSXERkdnn3ohAdUB/zebNmx/lFgq+wQiFHRoC5gYztlJgJjX+Yjo+CmBHIfQTfE3D3Auwhw2i8i6kqbPUaKhU2BBwZmamfAAmG/B4PLXIyyVRaOscxzFCS4NfrsBPqbrzLrhexalTp/7zCndSgFXO48sugP4BHyMOOCEh4SgDFgF3dHToGVVzcXHxQ8zP9F0rhY4hYMVUGK3BTQ/i4xuRBsyalppjhEZqelKTqn4vKyu7D2DHeZ4BbcpNPJJ0jS9xC81fOAoiaM6nAbiNO4lQJWXARzf4Tw3BZx/Izc0dJr1UG9WmDJg7eFQRQdaFxP8NAtnOCJrzN+TzLPpRB5ezNYsg2gWg9+KvlwphiWhlx2BAwGyJapI6zeqLSALGqGLgzM/Pjzt58uReVm5ZWVl3gUn1WonIIQNWG8FUTsY4A8m2ID0siUA6akTcaGI6gmUthhYPggC9inWM2bEb1xAwyzFNx1AW3PCp/Sgm3g43YJjtfr5XLigoYIDqBNN6hUCZi5k1pjocZuWhOlil0I9h2vsjYcvwzQMUMstAROIbqui3q8dmqGGjTdcIJF2Q+I9IBaXhAgsNfo9g5eH+EWqVfkzGZ2dD0WmSA41KNUbtd5EmwgYYpryHO+eZe1n7MhpzXltbRmbloX4wyUPaRyHtDgC/w26wANiOwPQTWR7TIaMxGNZ/thyGDTApm1Fjz9/6qXC73R/ZDRg5t4L5n4DVW37uC1G5Vru9QRGOyZi606RxJsw4NgLYPoDegwWk2AUWWhxge5UEQ+3wIRhSXP5l0CRwzb8aTDpiGwI2e+lMqWNhPmj6LdSf79kFGITiLZiwj/8rodcaTZpA+ZeK8O/4k9qfzI54w00tbIcG0AYnikOu5u5xO7Q8DH6cBKC+UHblUCDk2ErjZsNMaYYa5r6qQBPDxHyY8HVE7HemihZgX8bhi9TLu78FGAB0F12/u7BX8QAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNUNBMUNBRjA2OTIxMUU2OURGRURCMEQ1QUY5RERDRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNUNBMUNCMDA2OTIxMUU2OURGRURCMEQ1QUY5RERDRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI1Q0ExQ0FEMDY5MjExRTY5REZFREIwRDVBRjlERENFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI1Q0ExQ0FFMDY5MjExRTY5REZFREIwRDVBRjlERENFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+fmeJFgAAA7lJREFUeNrsm1tIlEEUx79dN1uLoswudLGLEJUUUdSDFAXdqIfIh0K7IFER1UNEdIHoKejRLgSRD0oURVBpF7qbadZD9FJQEd3tbjdBSSp1OyfPl6fpzKbb+vk5Owd+7rdnvpn9/ntm5ps53xqIRCJOIlnACraCDRPMjvOBBUCaYRrrgWvAJqAKHUGgDIgYTg0wMgn+rAHW+TQ6X4AC4BNerFJ2ArgCDAF6MP9HoAioVuqEgUY8OOrTiNwDBrALXsHKspk/hYSj/ybQm5VtVdo8jM6DPhW8Uoh4A/BS8OdQnXlC2WfWZlHQDbMPbZhmkk0R/GlR6iSz41+3pEKfRrgOmMwudjcr28b8GcBT8uO4zSQ/BvOI0mahnwW73AWeCf7HVNaoqfNC8BeGOsF9dKzGnxFDHUcSfAZ4qynrTBahbp3Dx70kahXw3qCV1ky6V/8e2KoNNmxp+UdQJcFBg8QGTRYX2zdgBVvBVrAV3EpLou3aaWBah9yjPDbcyi2hY1zZlZsU4RTNCsi1Uq++/PYWnE3ZiHFC2VR2fBJIBSqBPKBre16Uuj2c9J/tTQEOKduzTOWcVFZ2m3yDmO8dfQmz4hDQN3x7GM8I48RzDLgOLAXSNVkHV5xrV+m1F/P1p95xCTgHzPdTl14MVDjNud9FQvkjYffF97I36BWjekuoPxc4BdxxmrOr4Y7o0kNprD3QZCmeU7SzNfX30nlN1L25ZQEHgPuatl8B64FRsXTpWARvj5KOKQGmt+JCnjgtadVoNpGur1bzecVeCD6rnI9RXiiMU53xyWlnG3oizurnlc+u9WLSShYa7daGW0mWMH5bY02CL+zFGF7ttKRFVTACy4ERUeoX0LnfgZ5RzgtTz8Hza4TPwuju8aJLu7YsyqSFHNfcTqqovEzT7nhgFy03pXY/AFuAvl5NWqrl0jpYJxxnW/cZUTrz7xAWI6VR2sE89OZ/9ApPBKsLD+liJ7Avx/XNVuqP0dStoHt9XFZa8VywlxP5JD6XuidaPb3OYe8rlfr17LialqcXaC3u67U0N/xFwWWKHtpr+oyHmrGLc8IGoHscV5LtFmHJSoguTvPD6YFs/6sajtHRpuyHfwDD2fuLwjl1pmU8cBe1lpIB+zoqzeKl4K/A/kRO4lnBVrAVbAVbwVZwggmOSIIDwprWJMEN7H0g5Pz93AezDZgKTTJALAaU/9g0FBIimmdwF/+G3bkfpWH6JMCcNcMdv/joAx9OZxoqFH80vhEotv/VYgVbwZ3bfgowAGrjMBvSYyjGAAAAAElFTkSuQmCC"},function(e,t){e.exports=require("react-chartist")},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 48 48'%3E%3Cdefs%3E%3Cpath id='a' d='M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z'/%3E%3C/defs%3E%3CclipPath id='b'%3E%3Cuse xlink:href='%23a' overflow='visible'/%3E%3C/clipPath%3E%3Cpath clip-path='url(%23b)' fill='%23FBBC05' d='M0 37V11l17 13z'/%3E%3Cpath clip-path='url(%23b)' fill='%23EA4335' d='M0 11l17 13 7-6.1L48 14V0H0z'/%3E%3Cpath clip-path='url(%23b)' fill='%2334A853' d='M0 37l30-23 7.9 1L48 0v48H0z'/%3E%3Cpath clip-path='url(%23b)' fill='%234285F4' d='M48 48L17 24l-4-3 35-10z'/%3E%3C/svg%3E"},function(e,t){e.exports="/static/images/postits-1366.84482c.jpg"},function(e,t){e.exports=require("react-color")},function(e,t){e.exports=require("passport-google-oauth20")},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(15),o=n.n(r),a=n(26),i=n(10),c=n.n(i),u=n(22),l=n.n(u),s=n(27),d=n.n(s),p=n(28),f=n.n(p),b=n(29),m=n.n(b),y=n(30),h=n.n(y),g=n(31),v=n.n(g),w=n(32),x=n.n(w),O=n(33),E=n.n(O),k=n(23),C=n(0),j=n.n(C),I=n(24),S=n(20),D=n(3),A=n(21),T=n(11),_=n(7),R=n(1),P=n.n(R),N=n(5),B=n(2),z=n.n(B),L=n(12),q=n.n(L),M=n(13),G=n.n(M),F=n(4),H=n(34),U=n.n(H);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(){var e=$(["\n  display: flex;\n  min-width: 0;\n  padding: 6px 10px 6px 10px;\n  border: 0;\n  border-radius: 3px;\n  background: transparent;\n  transition: background 0.1s;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background: $transparent-black;\n  }\n\n  .board-title-text {\n    margin: 0;\n    color: ",";\n    font-size: 18px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    overflow-wrap: break-word;\n    white-space: nowrap;\n    font-weight: 300;\n  }\n"]);return J=function(){return e},e}function Q(){var e=$(["\n  width: 100%;\n  padding: 6px 10px 6px 10px;\n  border: 0;\n  color: inherit;\n  background: inherit;\n  font-size: 18px;\n  font-weight: 300;\n  font-family: inherit;\n"]);return Q=function(){return e},e}function $(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ee=z.a.input(Q()),te=z.a.button(J(),function(e){return e.theme.negativeText}),ne=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(Z(Z(n=function(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?Z(e):t}(this,X(t).call(this,e)))),"handleClick",function(){n.setState({isOpen:!0})}),K(Z(Z(n)),"handleChange",function(e){n.setState({newTitle:e.target.value})}),K(Z(Z(n)),"submitTitle",function(){var e=n.props,t=e.dispatch,r=e.boardId,o=e.boardTitle,a=n.state.newTitle;""!==a&&(o!==a&&t({type:"CHANGE_BOARD_TITLE",payload:{boardTitle:a,boardId:r}}),n.setState({isOpen:!1}))}),K(Z(Z(n)),"revertTitle",function(){var e=n.props.boardTitle;n.setState({newTitle:e,isOpen:!1})}),K(Z(Z(n)),"handleKeyDown",function(e){13===e.keyCode?n.submitTitle():27===e.keyCode&&n.revertTitle()}),K(Z(Z(n)),"handleFocus",function(e){e.target.select()}),n.state={isOpen:!1,newTitle:e.boardTitle},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,C["Component"]),function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(t,[{key:"render",value:function(){var e=this.state,t=e.isOpen,n=e.newTitle,r=this.props.boardTitle;return t?j.a.createElement(ee,{autoFocus:!0,value:n,type:"text",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.revertTitle,onFocus:this.handleFocus,spellCheck:!1}):j.a.createElement(te,{type:"submit",onClick:this.handleClick},j.a.createElement("h1",{className:"board-title-text"},r))}}]),t}();K(ne,"propTypes",{boardTitle:P.a.string.isRequired,boardId:P.a.string.isRequired,dispatch:P.a.func.isRequired});var re=Object(N.withRouter)(Object(D.connect)(function(e,t){var n=t.match.params.boardId;return{boardTitle:e.boardsById[n].title,boardId:n}})(ne)),oe=n(8);n(47);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return le(ue(ue(n=function(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?ue(e):t}(this,(e=ie(t)).call.apply(e,[this].concat(o))))),"handleSelection",function(){var e=n.props,t=e.dispatch,r=e.match,o=e.history;t({type:"DELETE_BOARD",payload:{boardId:r.params.boardId}}),o.push("/")}),le(ue(ue(n)),"render",function(){return j.a.createElement(oe.Wrapper,{className:"board-deleter-wrapper",onSelection:n.handleSelection},j.a.createElement(oe.Button,{className:"board-deleter-button"},j.a.createElement("div",{className:"modal-icon"},j.a.createElement(F.FiTrash2,null)),j.a.createElement("div",{className:"board-header-right-text"})),j.a.createElement(oe.Menu,{className:"board-deleter-menu"},j.a.createElement("div",{className:"board-deleter-header"},"Are you sure?"),j.a.createElement(oe.MenuItem,{className:"board-deleter-confirm"},"Delete")))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,C["Component"]),t}();le(se,"propTypes",{match:P.a.shape({params:P.a.shape({boardId:P.a.string})}).isRequired,history:P.a.shape({push:P.a.func.isRequired}).isRequired,dispatch:P.a.func.isRequired});var de=Object(N.withRouter)(Object(D.connect)()(se));function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  color: ",";\n  background: transparent;\n  cursor: pointer;\n  padding: 8px 10px 8px 10px;\n  border-radius: 3px;\n  transition: background 0.1s;\n  &:hover {\n    background: rgba(0, 0, 0, 0.2);\n  }\n"]);return he=function(){return e},e}var ge=z.a.button(he(),function(e){return e.theme.backgroundAccent}),ve=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return ye(me(me(n=function(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?me(e):t}(this,(e=fe(t)).call.apply(e,[this].concat(o))))),"handleSelection",function(){var e=n.props,t=e.match,r=e.history,o=e.boardTitle,a=t.params.boardId;r.push("/b/".concat(a,"/").concat(q()(o,{lower:!0}),"/settings"))}),ye(me(me(n)),"render",function(){return j.a.createElement(ge,{onClick:n.handleSelection},j.a.createElement("div",{className:"modal-icon"},j.a.createElement(F.FiSettings,null)))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,C["Component"]),t}();ye(ve,"propTypes",{match:P.a.shape({params:P.a.shape({boardId:P.a.string})}).isRequired,history:P.a.shape({push:P.a.func.isRequired}).isRequired,dispatch:P.a.func.isRequired});var we=Object(N.withRouter)(Object(D.connect)(function(e,t){var n=t.match.params.boardId;return{boardTitle:e.boardsById[n].title}})(ve));function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 8px 10px 8px 10px;\n  border-radius: 3px;\n  color: $white;\n  transition: background 0.1s;\n  cursor: pointer;\n"]);return Ie=function(){return e},e}var Se=z.a.div(Ie()),De=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return je(Ce(Ce(n=function(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?Ce(e):t}(this,(e=Ee(t)).call.apply(e,[this].concat(o))))),"changeBoardColor",function(){var e=n.props,t=e.dispatch,r=e.boardId,o=e.boardColor;(0,e.changeTheme)(),t({type:"CHANGE_BOARD_COLOR",payload:{boardId:r,color:"light"===o?"dark":"light"}})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,C["Component"]),function(e,t,n){t&&Oe(e.prototype,t),n&&Oe(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.boardColor;(0,e.setBoardColor)(t)}},{key:"render",value:function(){var e=this.props.boardColor;return j.a.createElement(Se,null,"light"===e?j.a.createElement(F.FiMoon,{onClick:this.changeBoardColor}):j.a.createElement(F.FiSun,{onClick:this.changeBoardColor}))}}]),t}();je(De,"propTypes",{boardId:P.a.string.isRequired,boardColor:P.a.string.isRequired,dispatch:P.a.func.isRequired});var Ae=Object(N.withRouter)(Object(D.connect)(function(e,t){var n=t.match.params.boardId;return{boardColor:e.boardsById[n].settings.color,boardId:n}})(De)),Te=(n(48),function(e){var t=e.changeTheme,n=e.setBoardColor;return j.a.createElement("div",{className:"board-header"},j.a.createElement(re,null),j.a.createElement("div",{className:"board-header-right"},j.a.createElement(we,null),j.a.createElement(Ae,{changeTheme:t,setBoardColor:n}),j.a.createElement(de,null)))});function _e(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: fixed;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-shrink: 0;\n  box-sizing: border-box;\n  width: 100%;\n  height: 40px;\n  padding: 5px;\n  background: #555;\n  z-index: 2;\n  transition: background 0.3s;\n  box-shadow: ",";\n  background: ",';\n\n  .header-title {\n    display: inline-flex;\n    align-items: center;\n    color: white;\n    font-size: 22px;\n    font-weight: 700;\n    text-decoration: none;\n    font-family: "Pacifico", cursive;\n  }\n\n  .header-title img {\n    height: 30px;\n  }\n\n  .header-right-side {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    box-sizing: border-box;\n    height: 100%;\n    color: white;\n  }\n\n  .user-thumbnail {\n    height: 28px;\n    border-radius: 3px;\n  }\n\n  .guest-icon {\n    padding-top: 2px;\n    font-size: 24px;\n  }\n\n  .signout-link {\n    padding: 3px 5px 1px 5px;\n    margin-left: 12px;\n    color: white;\n    text-decoration: none;\n  }\n\n  .signout-link:focus,\n  .signout-link:hover {\n    color: ',"-transparent-black;\n  }\n\n  .signout-icon {\n    padding-bottom: 2px;\n    font-size: 22px;\n  }\n\n  @media (max-width: 700px) {\n    .user-thumbnail,\n    .guest-icon {\n      display: none;\n    }\n\n    .signout-link {\n      margin-left: 0px;\n    }\n  }\n"]);return _e=function(){return e},e}var Re=z.a.header(_e(),function(e){return e.theme.bs},function(e){return e.theme.headerBackground},function(e){return e.theme.less});function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Le(ze(ze(n=function(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?ze(e):t}(this,(e=Ne(t)).call.apply(e,[this].concat(o))))),"render",function(){var e=n.props,t=e.user,r=e.homePage,o=e.changeTheme,a=e.setBoardColor;return j.a.createElement(Re,null,j.a.createElement(N.Link,{to:"/",className:"header-title"},j.a.createElement("img",{src:U.a,alt:"React Kanban logo"})," Kanban 2.0"),j.a.createElement("div",{className:"header-right-side"},!r&&j.a.createElement(Te,{changeTheme:o,setBoardColor:a}),t?j.a.createElement("img",{src:t.imageUrl,alt:t.name,className:"user-thumbnail",title:t.name}):j.a.createElement(F.FiUser,{className:"guest-icon"}),t?j.a.createElement("a",{className:"signout-link",href:"/auth/signout"},j.a.createElement(F.FiLogOut,{className:"signout-icon"})):j.a.createElement("a",{className:"signout-link",href:"/"},j.a.createElement(F.FiLogIn,{className:"signout-icon"})," Sign in")))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,C["Component"]),t}();Le(qe,"propTypes",{user:P.a.object});var Me=Object(N.withRouter)(Object(D.connect)(function(e,t){var n=t.match.params;return{user:e.user,homePage:0===Object.keys(n).length&&n.constructor===Object}})(qe)),Ge=n(6),Fe=n.n(Ge),He=n(35),Ue=n.n(He);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Ze(Ve(Ve(n=function(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?Ve(e):t}(this,(e=Ye(t)).call.apply(e,[this].concat(o))))),"handleClickOutside",function(){return n.props.handleClickOutside()}),Ze(Ve(Ve(n)),"render",function(){return n.props.children}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,C["Component"]),t}();Ze(Ke,"propTypes",{handleClickOutside:P.a.func.isRequired,children:P.a.element.isRequired});var Je=Ue()(Ke);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nt(tt(tt(e=function(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?tt(e):t}(this,$e(t).call(this)))),"toggleOpen",function(){var t=e.state.isOpen;e.setState({isOpen:!t})}),nt(tt(tt(e)),"handleChange",function(t){e.setState({title:t.target.value})}),nt(tt(tt(e)),"handleSubmit",function(t){t.preventDefault();var n=e.state.title;if(""!==n){var r=e.props,o=r.dispatch,a=r.history,i=r.userId,c=Fe.a.generate(),u=Fe.a.generate(),l=Fe.a.generate();o({type:"ADD_BOARD",payload:{boardTitle:n,boardId:c,userId:i,completedListId:u,habitsListId:l,categoryId:Fe.a.generate()}}),o({type:"ADD_LIST",payload:{listTitle:"Habits",listId:l,boardId:c,special:"habits"}}),o({type:"ADD_LIST",payload:{listTitle:"Completed",listId:u,boardId:c,special:"completed"}});var s=q()(n,{lower:!0});a.push("/b/".concat(c,"/").concat(s)),e.setState({isOpen:!1,title:""})}}),nt(tt(tt(e)),"handleKeyDown",function(t){27===t.keyCode&&e.setState({isOpen:!1})}),nt(tt(tt(e)),"render",function(){var t=e.state,n=t.isOpen,r=t.title;return n?j.a.createElement(Je,{handleClickOutside:e.toggleOpen},j.a.createElement("form",{onSubmit:e.handleSubmit,className:"board-adder"},j.a.createElement("input",{autoFocus:!0,className:"submit-board-input",type:"text",value:r,onKeyDown:e.handleKeyDown,onChange:e.handleChange,spellCheck:!1}),j.a.createElement("input",{type:"submit",value:"Create",className:"submit-board-button",disabled:""===r}))):j.a.createElement("button",{type:"submit",onClick:e.toggleOpen,className:"add-board-button"},"Add a new board...")}),e.state={isOpen:!1,title:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,C["Component"]),t}();nt(rt,"propTypes",{userId:P.a.string.isRequired,history:P.a.object.isRequired,dispatch:P.a.func.isRequired});var ot=Object(D.connect)(function(e){return{userId:e.user?e.user._id:"guest"}})(rt);function at(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: inline-flex;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto;\n\n  .main-content {\n    display: inline-flex;\n    flex-direction: column;\n    width: ",";\n    margin: ",";\n  }\n\n  @media (max-width: ",") {\n    .main-content {\n      width: ",";\n    }\n  }\n\n  @media (max-width: ",") {\n    .main-content {\n      width: ",";\n    }\n  }\n\n  @media (max-width: ",") {\n    .main-content {\n      width: ",";\n      margin: ",";\n    }\n  }\n\n  .main-content h1 {\n    margin: 20px 5px;\n    font-size: 22px;\n  }\n\n  .boards {\n    display: inline-flex;\n    flex-wrap: wrap;\n  }\n\n  .board-link {\n    box-sizing: border-box;\n    width: ",";\n    height: ",";\n    margin: ",";\n    padding: 10px;\n    border-radius: 6px;\n    font-size: 15px;\n    font-weight: 700;\n    transition: background 0.1s;\n    cursor: pointer;\n    display: inline-flex;\n    flex-direction: column;\n    color: white;\n    overflow-wrap: break-word;\n    text-decoration: none;\n    background: ",";\n\n  }\n\n  .board-link:hover,\n  .board-link:focus {\n    &.light {\n      background: ",";\n    }\n\n    &.dark {\n      background: ",";\n    }\n\n    &.blue {\n      background: ",";\n    }\n  }\n\n  .board-link-title {\n    padding-bottom: 5px;\n  }\n\n  .mini-board {\n    display: flex;\n    height: 100%;\n  }\n\n  .mini-list {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 24px;\n    height: 100%;\n    margin-right: 6px;\n    border-radius: 3px;\n    background: rgba(255, 255, 255, 0.25);\n  }\n\n  .add-board-button {\n    box-sizing: border-box;\n    width: ",";\n    height: ",";\n    margin: ",";\n    padding: 10px;\n    border-radius: 6px;\n    font-size: 15px;\n    font-weight: 700;\n    transition: background 0.1s;\n    cursor: pointer;\n    margin-bottom: 20px;\n    border: 0;\n    background: #ddd;\n    color: #444;\n  }\n\n  .add-board-button:hover,\n  .add-board-button:focus {\n    background: #ccc;\n  }\n\n  .board-adder {\n    box-sizing: border-box;\n    width: ",";\n    height: ",";\n    margin: ",";\n    margin-bottom: 20px;\n    padding: 8px;\n    border-radius: 3px;\n    background: #ddd;\n    color: #444;\n    font-size: 15px;\n  }\n\n  .submit-board-button {\n    padding: 8px 12px 8px 12px;\n    margin: 8px 0 0 0;\n    border: none;\n    border-radius: 3px;\n    background: ",";\n    color: white;\n    font-size: 14px;\n    font-weight: 700;\n    transition: background 0.2s;\n    cursor: pointer;\n  }\n\n  .submit-board-button:focus,\n  .submit-board-button:hover {\n    background: ",";\n  }\n\n  .submit-board-input {\n    box-sizing: border-box;\n    width: 100%;\n    padding: 4px;\n    border: 0;\n    border-radius: 3px;\n    color: inherit;\n    font-family: inherit;\n    font-size: inherit;\n    font-weight: 700;\n    overflow: hidden;\n    resize: none;\n  }\n"]);return at=function(){return e},e}var it=z.a.div(at(),function(e){return"".concat(4*e.theme.boardWidth+8*e.theme.boardMargin,"px")},function(e){return"".concat(e.theme.mainMargin,"px")},function(e){return"".concat(4*e.theme.boardWidth+8*e.theme.boardMargin+2*e.theme.mainMargin,"px")},function(e){return"".concat(3*e.theme.boardWidth+6*e.theme.boardMargin,"px")},function(e){return"".concat(3*e.theme.boardWidth+6*e.theme.boardMargin+2*e.theme.mainMargin,"px")},function(e){return"".concat(2*e.theme.boardWidth+4*e.theme.boardMargin,"px")},function(e){return"".concat(2*e.theme.boardWidth+4*e.theme.boardMargin+2*e.theme.mainMargin,"px")},function(e){return"".concat(e.theme.boardWidth+2*e.theme.boardMargin,"px")},function(e){return"".concat(e.theme.mainMargin,"px 0")},function(e){return"".concat(e.theme.boardWidth,"px")},function(e){return"".concat(e.theme.boardHeight,"px")},function(e){return"".concat(e.theme.boardMargin,"px")},function(e){return e.theme.mainBackground},function(e){return e.theme.mainBackground},function(e){return e.theme.text},function(e){return e.theme.neutralHover},function(e){return"".concat(e.theme.boardWidth,"px")},function(e){return"".concat(e.theme.boardHeight,"px")},function(e){return"".concat(e.theme.boardMargin,"px")},function(e){return"".concat(e.theme.boardWidth,"px")},function(e){return"".concat(e.theme.boardHeight,"px")},function(e){return"".concat(e.theme.boardMargin,"px")},function(e){return e.theme.success},function(e){return e.theme.successHover});function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return dt(st(st(n=function(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?st(e):t}(this,(e=ut(t)).call.apply(e,[this].concat(o))))),"render",function(){var e=n.props,t=e.boards,r=e.listsById,o=e.history;return j.a.createElement(j.a.Fragment,null,j.a.createElement(T.Title,null,"Home | Kanban 2.0"),j.a.createElement(Me,null),j.a.createElement(it,null,j.a.createElement("div",{className:"main-content"},j.a.createElement("h1",null,"Boards"),j.a.createElement("div",{className:"boards"},t.map(function(e){return j.a.createElement(N.Link,{key:e._id,className:G()("board-link",e.settings.color),to:"/b/".concat(e._id,"/").concat(q()(e.title,{lower:!0}))},j.a.createElement("div",{className:"board-link-title"},e.title),j.a.createElement("div",{className:"mini-board"},e.lists.map(function(e){return j.a.createElement("div",{key:e,className:"mini-list",style:{height:"".concat(Math.min(18*(r[e].cards.length+1),100),"%")}})})))}),j.a.createElement(ot,{history:o})))))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(t,C["Component"]),t}();dt(pt,"propTypes",{boards:P.a.arrayOf(P.a.shape({_id:P.a.string.isRequired,settings:P.a.shape({pomodoro:P.a.shape({notification:P.a.boolean,audio:P.a.boolean}).isRequired,color:P.a.string.isRequired}).isRequired,title:P.a.string.isRequired}).isRequired).isRequired,listsById:P.a.object.isRequired,history:P.a.object.isRequired});var ft=Object(D.connect)(function(e){var t=e.boardsById,n=e.listsById;return{boards:Object.keys(t).map(function(e){return t[e]}),listsById:n}})(pt),bt=n(14),mt=n.n(bt);n(49);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ot(xt(xt(n=function(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?xt(e):t}(this,vt(t).call(this,e)))),"handleChange",function(e){n.setState({newTitle:e.target.value})}),Ot(xt(xt(n)),"handleKeyDown",function(e){13===e.keyCode?(e.preventDefault(),n.handleSubmit()):27===e.keyCode&&n.revertTitle()}),Ot(xt(xt(n)),"handleSubmit",function(){var e=n.state.newTitle,t=n.props,r=t.listTitle,o=t.listId,a=t.dispatch;""!==e&&(e!==r&&a({type:"CHANGE_LIST_TITLE",payload:{listTitle:e,listId:o}}),n.setState({isOpen:!1}))}),Ot(xt(xt(n)),"revertTitle",function(){var e=n.props.listTitle;n.setState({newTitle:e,isOpen:!1})}),Ot(xt(xt(n)),"deleteList",function(){var e=n.props,t=e.listId,r=e.cards,o=e.boardId;(0,e.dispatch)({type:"DELETE_LIST",payload:{cards:r,listId:t,boardId:o}})}),Ot(xt(xt(n)),"openTitleEditor",function(){n.setState({isOpen:!0})}),Ot(xt(xt(n)),"handleButtonKeyDown",function(e){13===e.keyCode&&(e.preventDefault(),n.openTitleEditor())}),n.state={isOpen:!1,newTitle:e.listTitle},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(t,C["Component"]),function(e,t,n){t&&gt(e.prototype,t),n&&gt(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen,r=t.newTitle,o=this.props,a=o.dragHandleProps,i=o.listTitle;return j.a.createElement("div",{className:"list-header"},n?j.a.createElement("div",{className:"list-title-textarea-wrapper"},j.a.createElement(mt.a,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:r,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:"list-title-textarea",onBlur:this.handleSubmit,spellCheck:!1})):j.a.createElement("div",ht({},a,{role:"button",tabIndex:0,onClick:this.openTitleEditor,onKeyDown:function(t){e.handleButtonKeyDown(t),a.onKeyDown(t)},className:"list-title-button"}),i),j.a.createElement(oe.Wrapper,{className:"delete-list-wrapper",onSelection:this.deleteList},j.a.createElement(oe.Button,{className:"delete-list-button"},j.a.createElement(F.FiTrash2,null)),j.a.createElement(oe.Menu,{className:"delete-list-menu"},j.a.createElement("div",{className:"delete-list-header"},"Are you sure?"),j.a.createElement(oe.MenuItem,{className:"delete-list-confirm"},"Delete"))))}}]),t}();Ot(Et,"propTypes",{listTitle:P.a.string.isRequired,listId:P.a.string.isRequired,boardId:P.a.string.isRequired,cards:P.a.arrayOf(P.a.string).isRequired,dragHandleProps:P.a.object.isRequired,dispatch:P.a.func.isRequired});var kt=Object(D.connect)()(Et),Ct=n(17),jt=n.n(Ct),It=n(16),St=n.n(It),Dt=n(36),At=n.n(Dt),Tt=n(18),_t=n.n(Tt);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  padding: 0px 8px 6px 8px;\n  font-size: 14px;\n\n  .badge {\n    margin-right: 5px;\n    transition: background 0.15s;\n  }\n\n  .badge-minutes {\n    background-color: ",";\n\n    input {\n      background: transparent;\n      color: ",";\n      width: 17px;\n      border: none;\n      text-align: center;\n      font-size: 12px;\n    }\n  }\n"]);return qt=function(){return e},e}var Mt=z.a.div(qt(),function(e){return e.theme.monotoneAccent},function(e){return e.theme.backgroundAccent}),Gt=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Lt(zt(zt(n=function(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?zt(e):t}(this,(e=Nt(t)).call.apply(e,[this].concat(o))))),"renderDueDate",function(){var e=n.props.date;if(!e)return null;var t,r,o=_t()(e,new Date);return t=o<-1?"".concat(Math.abs(o)," days ago"):-1===o?"Yesterday":0===o?"Today":1===o?"Tomorrow":At()(e,"D MMM"),r=o<0?"red":0===o?"#d60":"green",j.a.createElement("div",{className:"badge",style:{background:r}},j.a.createElement(F.FiBell,{className:"badge-icon"})," ",t)}),Lt(zt(zt(n)),"renderTaskProgress",function(){var e=n.props.checkboxes,t=e.total,r=e.checked;return 0===t?null:j.a.createElement("div",{className:"badge",style:{background:r===t?"green":"#444"}},j.a.createElement(F.FiCheck,{className:"badge-icon"})," ",r,"/",t)}),Lt(zt(zt(n)),"renderCategory",function(){var e=n.props,t=e.category,r=e.toggleCategoryModal;return t?j.a.createElement("div",{className:"badge badge-category",onClick:r,style:{background:t.color}},t.short):null}),Lt(zt(zt(n)),"handleMinuteChange",function(e){var t=n.props,r=t.dispatch,o=t.minutes,a=t.cardId,i=parseInt(e.target.value);o!==i&&r({type:"CHANGE_CARD_MINUTES",payload:{minutes:i,cardId:a}})}),Lt(zt(zt(n)),"renderMinutes",function(){var e=n.props.minutes;return e?j.a.createElement("div",{className:"badge badge-minutes"},j.a.createElement(F.FiClock,{className:"badge-icon"})," ",j.a.createElement("input",{onChange:function(e){return n.handleMinuteChange(e)},type:"text",value:e}),"min"):null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,C["Component"]),function(e,t,n){t&&Pt(e.prototype,t),n&&Pt(e,n)}(t,[{key:"render",value:function(){return j.a.createElement(Mt,null,this.renderCategory(),this.renderDueDate(),this.renderMinutes(),this.renderTaskProgress())}}]),t}();Lt(Gt,"propTypes",{date:P.a.oneOfType([P.a.string,P.a.instanceOf(Date)]),checkboxes:P.a.shape({total:P.a.number.isRequired,checked:P.a.number.isRequired}).isRequired,minutes:P.a.number,category:P.a.shape({name:P.a.string.isRequired,short:P.a.string.isRequired,color:P.a.string.isRequired}),dispatch:P.a.func,cardId:P.a.string});var Ft=Gt,Ht=n(37),Ut=n.n(Ht);function Wt(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n  display: flex;\n  flex-direction: column;\n  border-radius: 3px;\n\tbackground: white;\n\n  .calendar-modal {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n  }\n\n  .calendar-underlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 3;\n  }\n\n  .calendar-buttons {\n    display: flex;\n    justify-content: space-around;\n    margin-bottom: 8px;\n\n    button {\n      width: 120px;\n      height: 30px;\n      border: 0;\n      border-radius: 3px;\n      font-size: 14px;\n      font-weight: 700;\n      transition: background 0.2s;\n      cursor: pointer;\n    }\n\n    button:hover {\n      background: #bbb;\n    }\n\n    .calendar-save-button {\n      color: white;\n      background: $success-button-color;\n    }\n\n    .calendar-save-button:hover {\n      background: $success-button-color-hover;\n    }\n  }\n\n  .DayPicker {\n    display: inline-block;\n  }\n\n  .DayPicker-wrapper {\n    position: relative;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    padding-bottom: 1rem;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -ms-flex-direction: row;\n    flex-direction: row;\n  }\n\n  .DayPicker-Months {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n    flex-wrap: wrap;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n\n  .DayPicker-Month {\n    display: table;\n    border-collapse: collapse;\n    border-spacing: 0;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    margin: 0 1rem;\n    margin-top: 1rem;\n  }\n\n  .DayPicker-NavButton {\n    position: absolute;\n    cursor: pointer;\n    top: 1rem;\n    right: 1.5rem;\n    margin-top: 2px;\n    color: #8b9898;\n    width: 1.25rem;\n    height: 1.25rem;\n    display: inline-block;\n    background-size: 50%;\n    background-repeat: no-repeat;\n    background-position: center;\n  }\n\n  .DayPicker-NavButton:hover {\n    opacity: 0.8;\n  }\n\n  .DayPicker-NavButton--prev {\n    margin-right: 1.5rem;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC");\n  }\n\n  .DayPicker-NavButton--next {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==");\n  }\n\n  .DayPicker-NavButton--interactionDisabled {\n    display: none;\n  }\n\n  .DayPicker-Caption {\n    padding: 0 0.5rem;\n    display: table-caption;\n    text-align: left;\n    margin-bottom: 0.5rem;\n  }\n\n  .DayPicker-Caption > div {\n    font-size: 1.15rem;\n    font-weight: 500;\n  }\n\n  .DayPicker-Weekdays {\n    margin-top: 1rem;\n    display: table-header-group;\n  }\n\n  .DayPicker-WeekdaysRow {\n    display: table-row;\n  }\n\n  .DayPicker-Weekday {\n    display: table-cell;\n    padding: 0.5rem;\n    font-size: 0.875em;\n    text-align: center;\n    color: #8b9898;\n  }\n\n  .DayPicker-Weekday abbr[title] {\n    border-bottom: none;\n    text-decoration: none;\n  }\n\n  .DayPicker-Body {\n    display: table-row-group;\n  }\n\n  .DayPicker-Week {\n    display: table-row;\n  }\n\n  .DayPicker-Day {\n    display: table-cell;\n    padding: 0.5rem;\n    text-align: center;\n    cursor: pointer;\n    vertical-align: middle;\n    outline: none;\n  }\n\n  .DayPicker-WeekNumber {\n    display: table-cell;\n    padding: 0.5rem;\n    text-align: right;\n    vertical-align: middle;\n    min-width: 1rem;\n    font-size: 0.75em;\n    cursor: pointer;\n    color: #8b9898;\n    border-right: 1px solid #eaecec;\n  }\n\n  .DayPicker--interactionDisabled .DayPicker-Day {\n    cursor: default;\n  }\n\n  .DayPicker-Footer {\n    padding-top: 0.5rem;\n  }\n\n  .DayPicker-TodayButton {\n    border: none;\n    background-image: none;\n    background-color: transparent;\n    -webkit-box-shadow: none;\n    box-shadow: none;\n    cursor: pointer;\n    color: #4a90e2;\n    font-size: 0.875em;\n  }\n\n  /* Default modifiers */\n\n  .DayPicker-Day--today {\n    color: #d0021b;\n    font-weight: 700;\n  }\n\n  .DayPicker-Day--outside {\n    cursor: default;\n    color: #8b9898;\n  }\n\n  .DayPicker-Day--disabled {\n    color: #dce0e0;\n    cursor: default;\n    /* background-color: #eff1f1; */\n  }\n\n  /* Example modifiers */\n\n  .DayPicker-Day--sunday {\n    background-color: #f7f8f8;\n  }\n\n  .DayPicker-Day--sunday:not(.DayPicker-Day--today) {\n    color: #dce0e0;\n  }\n\n  .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {\n    position: relative;\n    color: #f0f8ff;\n    background-color: #4a90e2;\n    border-radius: 0;\n  }\n\n  .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover {\n    background-color: #51a0fa;\n  }\n\n  .DayPicker:not(.DayPicker--interactionDisabled)\n    .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\n    background-color: #f0f8ff;\n    border-radius: 0;\n  }\n\n  /* DayPickerInput */\n\n  .DayPickerInput {\n    display: inline-block;\n  }\n\n  .DayPickerInput-OverlayWrapper {\n    position: relative;\n  }\n\n  .DayPickerInput-Overlay {\n    left: 0;\n    z-index: 1;\n    position: absolute;\n    background: white;\n    -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n  }\n']);return Wt=function(){return e},e}var Yt=z.a.div(Wt());function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qt(Jt(Jt(n=function(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?Jt(e):t}(this,Zt(t).call(this,e)))),"handleDayClick",function(e,t){var r=t.selected;t.disabled||(r?n.setState({selectedDay:void 0}):n.setState({selectedDay:e}))}),Qt(Jt(Jt(n)),"handleSave",function(){var e=n.state.selectedDay,t=n.props,r=t.dispatch,o=t.cardId,a=t.toggleCalendar;r({type:"CHANGE_CARD_DATE",payload:{date:e,cardId:o}}),a()}),n.state={selectedDay:e.date?new Date(e.date):void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,C["Component"]),function(e,t,n){t&&Vt(e.prototype,t),n&&Vt(e,n)}(t,[{key:"render",value:function(){var e=this.state.selectedDay,t=this.props.toggleCalendar;return j.a.createElement(Yt,null,j.a.createElement(Ut.a,{onDayClick:this.handleDayClick,selectedDays:e,disabledDays:{before:new Date}}),j.a.createElement("div",{className:"calendar-buttons"},j.a.createElement("button",{type:"submit",onClick:this.handleSave,className:"calendar-save-button"},"Save"),j.a.createElement("button",{type:"submit",onClick:t},"Cancel")))}}]),t}();Qt($t,"propTypes",{dispatch:P.a.func.isRequired,cardId:P.a.string.isRequired,date:P.a.oneOfType([P.a.string,P.a.instanceOf(Date)]),toggleCalendar:P.a.func.isRequired});var en=Object(D.connect)()($t);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n\n  .options-list-button {\n    display: flex;\n    align-items: center;\n    height: 33px;\n    margin: 0 3px 4px 3px;\n    padding: 0 6px;\n    border: 0;\n    border-radius: 3px;\n    color: black;\n    background: rgba(255, 255, 255, 0.8);\n    font-size: inherit;\n    cursor: pointer;\n  }\n\n  .options-list-button:hover,\n  .options-list-button:focus {\n    background: white;\n  }\n\n  .modal-icon {\n    flex-shrink: 0;\n  }\n\n  .modal-color-picker {\n    z-index: 2;\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    display: flex;\n    flex-wrap: wrap;\n    width: 120px;\n    margin-top: 4px;\n    border-radius: 3px;\n    color: black;\n    background: white;\n    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.6);\n    font-weight: 700;\n    text-align: center;\n  }\n\n  .picker-button {\n    background: ",";\n    border-radius: ",";\n    padding: 5px 8px;\n    margin: 5px;\n  }\n"]);return un=function(){return e},e}var ln=z.a.div(un(),function(e){return e.theme.monotoneAccent},function(e){return e.theme.borderRadius}),sn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cn(an(an(n=function(e,t){return!t||"object"!==tn(t)&&"function"!=typeof t?an(e):t}(this,rn(t).call(this,e)))),"handleKeyDown",function(e){var t=n.props,r=t.togglePicker,o=t.type;27===e.keyCode&&(r(o),n.colorPickerButton.focus())}),cn(an(an(n)),"handleClickOutside",function(){var e=n.props;(0,e.togglePicker)(e.type),n.colorPickerButton.focus()}),n.state={isCalendarOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(t,C["Component"]),function(e,t,n){t&&nn(e.prototype,t),n&&nn(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isPickerOpen,r=t.togglePicker,o=t.type,a=t.children,i=t.icon,c=t.text;return j.a.createElement(ln,null,j.a.createElement("button",{type:"submit",className:"options-list-button",onClick:function(){return r(o)},onKeyDown:this.handleKeyDown,ref:function(t){e.colorPickerButton=t},"aria-haspopup":!0,"aria-expanded":n},i," ",c),n&&j.a.createElement(Je,{eventTypes:"click",handleClickOutside:this.handleClickOutside},j.a.createElement("div",{className:"modal-color-picker",onKeyDown:this.handleKeyDown},a)))}}]),t}();cn(sn,"propTypes",{isPickerOpen:P.a.bool.isRequired,togglePicker:P.a.func.isRequired,dispatch:P.a.func.isRequired,type:P.a.string.isRequired});var dn=Object(D.connect)()(sn);n(50);function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .options-list {\n    display: flex;\n    flex-direction: column;\n    flex-shrink: 0;\n    margin: 0 8px;\n\n    @media (max-width: 550px) {\n      justify-content: center;\n      flex-direction: row;\n      width: 100%;\n      margin: 0;\n    }\n  }\n\n  .options-list-button {\n    display: flex;\n    align-items: center;\n    height: 33px;\n    margin: 0 3px 4px 3px;\n    padding: 0 6px;\n    border: 0;\n    border-radius: 3px;\n    color: black;\n    background: rgba(255, 255, 255, 0.8);\n    font-size: inherit;\n    cursor: pointer;\n  }\n\n  .calendar-modal {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n  }\n\n  .calendar-underlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 3;\n  }\n\n  .calendar {\n    display: flex;\n    flex-direction: column;\n    border-radius: 3px;\n    background: white;\n  }\n\n  .calendar-buttons {\n    display: flex;\n    justify-content: space-around;\n    margin-bottom: 8px;\n\n    button {\n      width: 120px;\n      height: 30px;\n      border: 0;\n      border-radius: 3px;\n      font-size: 14px;\n      font-weight: 700;\n      transition: background 0.2s;\n      cursor: pointer;\n    }\n\n    button:hover {\n      background: #bbb;\n    }\n\n    .calendar-save-button {\n      color: white;\n      background: $success-button-color;\n    }\n\n    .calendar-save-button:hover {\n      background: $success-button-color-hover;\n    }\n  }\n"]);return gn=function(){return e},e}var vn=z.a.div(gn()),wn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hn(yn(yn(n=function(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?yn(e):t}(this,bn(t).call(this,e)))),"deleteCard",function(){var e=n.props,t=e.dispatch,r=e.listId;t({type:"DELETE_CARD",payload:{cardId:e.card._id,listId:r}})}),hn(yn(yn(n)),"completeCard",function(){var e=n.props,t=e.dispatch,r=e.listId,o=e.card;if(o.schedule){var a=jt.a.schedule(o.schedule).next();t({type:"CHANGE_CARD_SCHEDULE",payload:{cardId:o._id,nextDate:a}})}else{var i=Date.now();t({type:"CHANGE_CARD_COMPLETED_AT",payload:{cardId:o._id,completedAt:i}}),t({type:"COMPLETE_CARD",payload:{cardId:o._id,listId:r}})}}),hn(yn(yn(n)),"changeCategory",function(e){var t=n.props,r=t.dispatch,o=t.card,a=t.togglePicker;o.category!==e&&("white"===e.color?r({type:"DELETE_CARD_CATEGORY",payload:{cardId:o._id}}):r({type:"CHANGE_CARD_CATEGORY",payload:{categoryId:e._id,cardId:o._id}})),a("Category"),n.colorPickerButton.focus()}),hn(yn(yn(n)),"changeDifficulty",function(e){var t=n.props,r=t.dispatch,o=t.card,a=t.togglePicker;o.difficulty!==e&&r({type:"CHANGE_CARD_DIFFICULTY",payload:{difficulty:e,cardId:o._id}}),a("Difficulty"),n.colorPickerButton.focus()}),hn(yn(yn(n)),"handleKeyDownTime",function(e){var t=n.props.toggleDifficultyPicker;27===e.keyCode&&(t(),n.colorPickerButton.focus())}),hn(yn(yn(n)),"handleMinuteChange",function(e){var t=""!==e.target.value?parseInt(e.target.value,10):"";n.setState(hn({},e.target.name,t))}),hn(yn(yn(n)),"handleMinuteSubmit",function(e){e.preventDefault();var t=n.props,r=t.dispatch,o=t.card,a=n.state.minutes;o.minutes!==a&&r({type:"CHANGE_CARD_MINUTES",payload:{minutes:a,cardId:o._id}})}),hn(yn(yn(n)),"handleRecurringChange",function(e){n.setState(hn({},e.target.name,e.target.value))}),hn(yn(yn(n)),"handleRecurringSubmit",function(e){e.preventDefault();var t=n.props,r=t.dispatch,o=t.card,a=n.state.recurringText,i=jt.a.parse.text(a);if(-1===i.error){var c=jt.a.schedule(i).next();r({type:"CHANGE_CARD_RECURRING",payload:{recurringText:a,cardId:o._id,nextDate:c,schedule:i}})}}),hn(yn(yn(n)),"toggleCalendar",function(){var e=n.state.isCalendarOpen;n.setState({isCalendarOpen:!e})});var r=n.props.card;return n.state={isCalendarOpen:!1,minutes:r.minutes||"",recurringText:r.recurringText||""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(t,C["Component"]),function(e,t,n){t&&fn(e.prototype,t),n&&fn(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isCardNearRightBorder,r=t.isCategoryPickerOpen,o=t.isDifficultyPickerOpen,a=t.card,i=t.isThinDisplay,c=t.boundingRect,u=t.togglePicker,l=t.categories,s=this.state,d=s.isCalendarOpen,p=s.minutes,f=s.recurringText,b={content:{top:Math.min(c.bottom+10,window.innerHeight-300),left:c.left}};return j.a.createElement(vn,null,j.a.createElement("div",{className:"options-list",style:{alignItems:n?"flex-end":"flex-start"}},j.a.createElement("div",null,j.a.createElement("button",{type:"submit",onClick:this.completeCard,className:"options-list-button"},j.a.createElement("div",{className:"modal-icon"},j.a.createElement(F.FiCheck,null))," Done")),j.a.createElement("div",{className:"modal-color-picker-wrapper"},j.a.createElement("form",{onSubmit:this.handleMinuteSubmit},j.a.createElement("input",{className:"options-list-button",onKeyDown:this.handleKeyDownTime,ref:function(t){e.colorPickerButton=t},name:"minutes",type:"number",placeholder:"Minutes",value:p,onChange:this.handleMinuteChange}))),j.a.createElement("div",{className:"modal-color-picker-wrapper"},j.a.createElement("form",{onSubmit:this.handleRecurringSubmit},j.a.createElement("input",{className:"options-list-button",onKeyDown:this.handleKeyDownTime,name:"recurringText",type:"text",placeholder:"Recurring Time",value:f,onChange:this.handleRecurringChange}))),j.a.createElement(dn,{isPickerOpen:r,togglePicker:u,type:"Category",icon:j.a.createElement(F.FiTag,{className:"modal-icon"}),text:"Category"},l.map(function(t){return j.a.createElement("button",{type:"submit",key:t.name,style:{background:t.color},className:"picker",onClick:function(){return e.changeCategory(t)}},t.short)})),j.a.createElement(dn,{isPickerOpen:o,togglePicker:u,type:"Difficulty",icon:j.a.createElement(F.FiFlag,{className:"modal-icon"}),text:"Difficulty"},[1,2,3].map(function(t){return j.a.createElement("button",{key:t,type:"submit",className:"picker-button",onClick:function(){return e.changeDifficulty(t)}},t)})),j.a.createElement("div",null,j.a.createElement("button",{type:"submit",onClick:this.toggleCalendar,className:"options-list-button"},j.a.createElement("div",{className:"modal-icon"},j.a.createElement(F.FiBell,null))," Due date")),j.a.createElement(St.a,{isOpen:d,onRequestClose:this.toggleCalendar,overlayClassName:"calendar-underlay",className:"calendar-modal",style:i?{content:{top:110,left:"50%",transform:"translateX(-50%)"}}:b},j.a.createElement(en,{cardId:a._id,date:a.date,toggleCalendar:this.toggleCalendar})),j.a.createElement("div",null,j.a.createElement("button",{type:"submit",onClick:this.deleteCard,className:"options-list-button"},j.a.createElement("div",{className:"modal-icon"},j.a.createElement(F.FiTrash2,null))," Delete"))))}}]),t}();hn(wn,"propTypes",{isCategoryPickerOpen:P.a.bool.isRequired,isDifficultyPickerOpen:P.a.bool.isRequired,card:P.a.shape({_id:P.a.string.isRequired,minutes:P.a.number,recurringText:P.a.string}).isRequired,listId:P.a.string.isRequired,isCardNearRightBorder:P.a.bool.isRequired,isThinDisplay:P.a.bool.isRequired,boundingRect:P.a.object.isRequired,togglePicker:P.a.func.isRequired,dispatch:P.a.func.isRequired,categories:P.a.array.isRequired});var xn=Object(D.connect)()(wn),On=function(e){var t=e.match(/\[(\s|x)\]/g)||[],n=t.filter(function(e){return"[x]"===e}).length;return{total:t.length,checked:n}};n(51);function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sn(In(In(n=function(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?In(e):t}(this,Cn(t).call(this,e)))),"componentWillReceiveProps",function(e){n.setState({newText:e.card.text})}),Sn(In(In(n)),"handleKeyDown",function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),n.submitCard())}),Sn(In(In(n)),"submitCard",function(){var e=n.state.newText,t=n.props,r=t.card,o=t.listId,a=t.dispatch,i=t.toggleCardEditor;""===e?n.deleteCard():e!==r.text&&a({type:"CHANGE_CARD_TEXT",payload:{cardText:e,cardId:r._id,listId:o}}),i()}),Sn(In(In(n)),"handleChange",function(e){n.setState({newText:e.target.value})}),Sn(In(In(n)),"togglePicker",function(e){var t="is".concat(e,"PickerOpen");n.setState(Sn({},t,!n.state[t]))}),Sn(In(In(n)),"handleRequestClose",function(){var e=n.state,t=e.isCategoryPickerOpen,r=e.isDifficultyPickerOpen,o=n.props.toggleCardEditor;t&&r||o()}),n.state={newText:e.card.text,isCategoryPickerOpen:!1,isDifficultyPickerOpen:!1,isTextareaFocused:!0},"undefined"!=typeof document&&St.a.setAppElement("#app"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(t,C["Component"]),function(e,t,n){t&&kn(e.prototype,t),n&&kn(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.newText,r=t.isCategoryPickerOpen,o=t.isDifficultyPickerOpen,a=t.isTextareaFocused,i=this.props,c=i.cardElement,u=i.card,l=i.listId,s=i.isOpen,d=i.categories;if(!c)return null;var p=On(n),f=c.getBoundingClientRect(),b=window.innerWidth-f.right<f.left,m=window.innerWidth<550,y={content:{top:Math.min(f.top,window.innerHeight-f.height-18),left:b?null:f.left,right:b?window.innerWidth-f.right:null,flexDirection:b?"row-reverse":"row"}};return j.a.createElement(St.a,{closeTimeoutMS:150,isOpen:s,onRequestClose:this.handleRequestClose,contentLabel:"Card editor",overlayClassName:"modal-underlay",className:"modal",style:m?{content:{flexDirection:"column",top:3,left:3,right:3}}:y,includeDefaultStyles:!1,onClick:this.handleRequestClose},j.a.createElement("div",{className:"modal-textarea-wrapper",style:{minHeight:m?"none":f.height,width:m?"100%":f.width,boxShadow:a?"0px 0px 3px 2px rgb(0, 180, 255)":null,background:u.color}},j.a.createElement(mt.a,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:n,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:"modal-textarea",spellCheck:!1,onFocus:function(){return e.setState({isTextareaFocused:!0})},onBlur:function(){return e.setState({isTextareaFocused:!1})}}),(u.date||p.total>0||u.minutes||u.category)&&j.a.createElement(Ft,{date:u.date,checkboxes:p,minutes:u.minutes,category:d.find(function(e){return e._id===u.categoryId})})),j.a.createElement(xn,{isCategoryPickerOpen:r,isDifficultyPickerOpen:o,card:u,listId:l,boundingRect:f,isCardNearRightBorder:b,isThinDisplay:m,togglePicker:this.togglePicker,categories:d}))}}]),t}();Sn(Dn,"propTypes",{card:P.a.shape({text:P.a.string.isRequired,_id:P.a.string.isRequired,date:P.a.oneOfType([P.a.string,P.a.instanceOf(Date)]),color:P.a.string}).isRequired,listId:P.a.string.isRequired,cardElement:P.a.shape({getBoundingClientRect:P.a.func.isRequired}),isOpen:P.a.bool.isRequired,toggleCardEditor:P.a.func.isRequired,dispatch:P.a.func.isRequired,categories:P.a.array.isRequired});var An=Object(D.connect)()(Dn),Tn=n(38),_n=n.n(Tn),Rn=function(e){var t=0;return _n()(e,{sanitize:!0,gfm:!0,breaks:!0}).replace(/<a/g,'<a target="_blank"').replace(/\[(\s|x)\]/g,function(e){var n;return n="<input id=".concat(t,"[ ]"===e?' onclick="return false" type="checkbox">':' checked onclick="return false" type="checkbox">'),t+=1,n})};function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qn(Ln(Ln(n=function(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?Ln(e):t}(this,Bn(t).call(this,e)))),"componentWillReceiveProps",function(e){n.setState({newText:e.card.text})}),qn(Ln(Ln(n)),"handleKeyDown",function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),n.submitCard())}),qn(Ln(Ln(n)),"submitCard",function(){var e=n.props,t=e.card,r=e.listId,o=e.dispatch,a=e.toggleCategoryModal;""===newText?n.deleteCard():newText!==t.text&&o({type:"CHANGE_CARD_TEXT",payload:{cardText:newText,cardId:t._id,listId:r}}),a()}),qn(Ln(Ln(n)),"handleChange",function(e){n.setState({newText:e.target.value})}),qn(Ln(Ln(n)),"togglePicker",function(e){var t="is".concat(e,"PickerOpen");n.setState(qn({},t,!n.state[t]))}),qn(Ln(Ln(n)),"handleRequestClose",function(){var e=n.state,t=e.isCategoryPickerOpen,r=e.isDifficultyPickerOpen,o=n.props.toggleCategoryModal;t&&r||o()}),qn(Ln(Ln(n)),"changeCategory",function(e){var t=n.props,r=t.dispatch,o=t.card;o.categoryId!==e._id&&("white"===e.color?r({type:"DELETE_CARD_CATEGORY",payload:{cardId:o._id}}):r({type:"CHANGE_CARD_CATEGORY",payload:{categoryId:e._id,cardId:o._id}})),n.props.toggleCategoryModal()}),n.state={isCategoryPickerOpen:!1,isDifficultyPickerOpen:!1,isTextareaFocused:!0},"undefined"!=typeof document&&St.a.setAppElement("#app"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(t,C["Component"]),function(e,t,n){t&&Nn(e.prototype,t),n&&Nn(e,n)}(t,[{key:"render",value:function(){var e=this,t=(this.state.newText,this.props),n=t.cardElement,r=(t.card,t.listId,t.categoryModalIsOpen),o=t.toggleCategoryModal,a=t.categories;if(!n)return null;var i=n.getBoundingClientRect(),c=window.innerWidth<550,u={content:{top:Math.min(i.bottom,window.innerHeight-i.height-200),left:i.left}};return j.a.createElement(St.a,{isOpen:r,onRequestClose:o,closeTimeoutMS:150,contentLabel:"Card editor",overlayClassName:"modal-underlay",className:"modal",style:c?{content:{flexDirection:"column",top:3,left:3,right:3}}:u,includeDefaultStyles:!1,onClick:o},a.map(function(t){return j.a.createElement("button",{type:"submit",key:t.name,style:{background:t.color},className:"picker",onClick:function(){return e.changeCategory(t)}},t.short)}))}}]),t}();qn(Mn,"propTypes",{card:P.a.shape({text:P.a.string.isRequired,_id:P.a.string.isRequired,date:P.a.oneOfType([P.a.string,P.a.instanceOf(Date)]),color:P.a.string}).isRequired,listId:P.a.string.isRequired,cardElement:P.a.shape({getBoundingClientRect:P.a.func.isRequired}),categoryModalIsOpen:P.a.bool.isRequired,toggleCategoryModal:P.a.func.isRequired,dispatch:P.a.func.isRequired});var Gn=Object(D.connect)()(Mn);function Fn(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .card-title {\n    position: relative;\n    box-sizing: border-box;\n    margin: 5px 4px 0 4px;\n    border-radius: 3px;\n    color: ",";\n    background: ",";\n    box-shadow: ",";\n    border: 1px solid ",";\n    font-size: 15px;\n    overflow-wrap: break-word;\n    transition: box-shadow 0.15s;\n    user-select: none;\n    cursor: pointer !important;\n    border-right: 3px solid ",";\n    border-left: 3px solid transparent;\n  }\n\n  .difficulty-1.card-title {\n    border-right-color: ",";\n  }\n\n  .difficulty-2.card-title {\n    border-right-color: ",";\n  }\n\n  .difficulty-3.card-title {\n    border-right-color: ",";\n  }\n\n  .card-title-top {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n  }\n\n  .checkmark {\n    color: ",";\n    padding: 9px 8px 9px 4px;\n  }\n\n  .card-title:hover {\n    background-color: ",";\n  }\n\n  .checkmark:hover {\n    color: ",";\n  }\n\n  .card-title:focus {\n    box-shadow: 0px 0px 1px 3px rgb(0, 180, 255);\n  }\n\n  .card-title--drag {\n    box-shadow: "," !important;\n    opacity: 1 !important;\n  }\n\n  .card-title-html {\n    padding: 6px 4px 6px 8px;\n    word-break: break-word;\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      margin: 8px 0;\n    }\n\n    img {\n      max-width: 100%;\n    }\n\n    p {\n      margin: 4px 0;\n    }\n\n    code,\n    pre {\n      white-space: pre-wrap;\n    }\n\n    pre {\n      margin: 4px 0;\n      padding: 4px 2px;\n      background: rgba(100, 100, 100, 0.08);\n    }\n  }\n"]);return Fn=function(){return e},e}var Hn=z.a.div(Fn(),function(e){return e.theme.text},function(e){return e.theme.backgroundAccent},function(e){return e.theme.bs},function(e){return e.theme.mainBackground},function(e){return e.theme.mainBackground},function(e){return e.theme.mainBackground},function(e){return e.theme.mediumDifficulty},function(e){return e.theme.mainAccent},function(e){return e.theme.mainBackground},function(e){return e.theme.cardHover},function(e){return e.theme.success},function(e){return e.theme.bsDragging});function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kn(Zn(Zn(e=function(e,t){return!t||"object"!==Un(t)&&"function"!=typeof t?Zn(e):t}(this,Xn(t).call(this)))),"toggleCardEditor",function(){var t=e.state.isModalOpen;e.setState({isModalOpen:!t})}),Kn(Zn(Zn(e)),"toggleCategoryModal",function(){var t=e.state.categoryModalIsOpen;e.setState({categoryModalIsOpen:!t})}),Kn(Zn(Zn(e)),"handleClick",function(t){var n=t.target,r=n.tagName,o=n.checked,a=n.id;"input"===r.toLowerCase()?e.toggleCheckbox(o,parseInt(a,10)):"a"===r.toLowerCase()||t.target.classList.contains("badge")||e.toggleCardEditor(t)}),Kn(Zn(Zn(e)),"handleKeyDown",function(t){13===t.keyCode&&"a"!==t.target.tagName.toLowerCase()&&(t.preventDefault(),e.toggleCardEditor())}),Kn(Zn(Zn(e)),"toggleCheckbox",function(t,n){var r=e.props,o=r.card,a=r.dispatch,i=0,c=o.text.replace(/\[(\s|x)\]/g,function(e){var r;return r=n===i?t?"[x]":"[ ]":e,i+=1,r});a({type:"CHANGE_CARD_TEXT",payload:{cardId:o._id,cardText:c}})}),Kn(Zn(Zn(e)),"completeCard",function(){var t=e.props,n=t.dispatch,r=t.listId,o=t.card;if(o.schedule){var a=jt.a.schedule(o.schedule).next();n({type:"CHANGE_CARD_SCHEDULE",payload:{cardId:o._id,nextDate:a}})}else{var i=Date.now();n({type:"CHANGE_CARD_COMPLETED_AT",payload:{cardId:o._id,completedAt:i}}),n({type:"COMPLETE_CARD",payload:{cardId:o._id,listId:r}})}}),Kn(Zn(Zn(e)),"changeCategory",function(t){var n=e.props,r=n.dispatch,o=n.card;o.category!==t&&("white"===t.color?r({type:"DELETE_CARD_CATEGORY",payload:{cardId:o._id}}):r({type:"CHANGE_CARD_CATEGORY",payload:{categoryId:t._id,cardId:o._id}})),e.toggleCategoryModal()}),e.state={isModalOpen:!1,categoryModalIsOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(t,C["Component"]),function(e,t,n){t&&Yn(e.prototype,t),n&&Yn(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.card,r=t.index,o=t.listId,a=t.isDraggingOver,i=t.dispatch,c=t.categories,u=this.state,l=u.isModalOpen,s=u.categoryModalIsOpen,d=On(n.text);return j.a.createElement(Hn,null,!1!==n.active&&j.a.createElement(j.a.Fragment,null,j.a.createElement(_.Draggable,{draggableId:n._id,index:r},function(t,r){return j.a.createElement(j.a.Fragment,null,j.a.createElement("div",Wn({className:G()("difficulty-".concat(n.difficulty),"card-title",{"card-title--drag":r.isDragging}),ref:function(n){t.innerRef(n),e.ref=n}},t.draggableProps,t.dragHandleProps,{onClick:function(n){t.dragHandleProps.onClick(n),e.handleClick(n)},onKeyDown:function(n){t.dragHandleProps.onKeyDown(n),e.handleKeyDown(n)},style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Kn(e,t,n[t])})}return e}({},t.draggableProps.style)}),j.a.createElement("div",{className:"card-title-top"},j.a.createElement("div",{className:"card-title-html",dangerouslySetInnerHTML:{__html:Rn(n.text)}}),j.a.createElement("div",{className:"checkmark",onClick:e.completeCard},j.a.createElement(F.FiCheck,null))),(n.date||d.total>0||n.minutes||n.category)&&j.a.createElement(Ft,{date:n.date,checkboxes:d,minutes:n.minutes,category:c.find(function(e){return e._id===n.categoryId}),toggleCategoryModal:e.toggleCategoryModal,dispatch:i,cardId:n._id})),a&&t.placeholder)}),j.a.createElement(Gn,{categoryModalIsOpen:s,cardElement:this.ref,card:n,listId:o,toggleCategoryModal:this.toggleCategoryModal,categories:c}),j.a.createElement(An,{isOpen:l,cardElement:this.ref,card:n,listId:o,toggleCardEditor:this.toggleCardEditor,categories:c})))}}]),t}();Kn(Jn,"propTypes",{card:P.a.shape({_id:P.a.string.isRequired,text:P.a.string.isRequired,category:P.a.shape({name:P.a.string,color:P.a.string})}).isRequired,listId:P.a.string.isRequired,isDraggingOver:P.a.bool.isRequired,index:P.a.number.isRequired,dispatch:P.a.func.isRequired,categories:P.a.array.isRequired});var Qn=Object(D.connect)(function(e,t){return{card:e.cardsById[t.cardId]}})(Jn);function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ar=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return or(rr(rr(n=function(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?rr(e):t}(this,(e=tr(t)).call.apply(e,[this].concat(o))))),"componentDidUpdate",function(e){var t=n.props.cards;t[t.length-2]===e.cards[e.cards.length-1]&&n.scrollToBottom()}),or(rr(rr(n)),"scrollToBottom",function(){n.listEnd.scrollIntoView()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(t,C["Component"]),function(e,t,n){t&&er(e.prototype,t),n&&er(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.listId,r=t.cards,o=t.categories;return j.a.createElement(_.Droppable,{droppableId:n},function(t,a){var i=a.isDraggingOver;return j.a.createElement(j.a.Fragment,null,j.a.createElement("div",{className:"cards",ref:t.innerRef},r.map(function(e,t){return j.a.createElement(Qn,{isDraggingOver:i,key:e,cardId:e,index:t,listId:n,categories:o})}),t.placeholder,j.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.listEnd=t}})))})}}]),t}();or(ar,"propTypes",{listId:P.a.string.isRequired,cards:P.a.arrayOf(P.a.string).isRequired,categories:P.a.array.isRequired});var ir=Object(D.connect)(function(e,t){return{cards:e.listsById[t.listId].cards}})(ar);function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .card-adder-textarea-wrapper {\n    margin: 6px 13px 0 13px;\n  }\n\n  .card-adder-textarea {\n    float: right;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 10px 8px;\n    border: 0;\n    border-radius: 3px;\n    color: inherit;\n    font-family: inherit;\n    font-size: 15px;\n    resize: none;\n  }\n\n  .add-card-button {\n    align-self: center;\n    flex-shrink: 0;\n    width: 100%;\n    height: 39px;\n    margin-top: 6px;\n    border: none;\n    border-radius: ",";\n    color: ",";\n    background: transparent;\n    font-size: 28px;\n    transition: background 0.1s;\n    cursor: pointer;\n  }\n\n  .add-card-button:hover,\n  .add-card-button:focus {\n    color: ",";\n  }\n"]);return fr=function(){return e},e}var br=z.a.div(fr(),function(e){return e.theme.borderRadius},function(e){return e.theme.backgroundAccent},function(e){return e.theme.cardButtonHover}),mr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pr(dr(dr(e=function(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?dr(e):t}(this,lr(t).call(this)))),"toggleCardComposer",function(){var t=e.state.isOpen;e.setState({isOpen:!t})}),pr(dr(dr(e)),"handleChange",function(t){e.setState({newText:t.target.value})}),pr(dr(dr(e)),"handleKeyDown",function(t){13===t.keyCode&&!1===t.shiftKey?e.handleSubmit(t):27===t.keyCode&&e.toggleCardComposer()}),pr(dr(dr(e)),"handleSubmit",function(t){t.preventDefault();var n=e.state.newText,r=e.props,o=r.listId,a=r.dispatch,i=r.defaultCategory;""!==n&&(a({type:"ADD_CARD",payload:{cardText:n,cardId:Fe.a.generate(),listId:o,createdAt:Date.now(),categoryId:i}}),e.setState({newText:""}))}),e.state={newText:"",isOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(t,C["Component"]),function(e,t,n){t&&ur(e.prototype,t),n&&ur(e,n)}(t,[{key:"render",value:function(){var e=this.state,t=e.newText,n=e.isOpen;return j.a.createElement(br,null,n?j.a.createElement(Je,{handleClickOutside:this.toggleCardComposer},j.a.createElement("form",{onSubmit:this.handleSubmit,className:"card-adder-textarea-wrapper"},j.a.createElement(mt.a,{autoFocus:!0,useCacheForDOMMeasurements:!0,minRows:1,onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:t,className:"card-adder-textarea",placeholder:"Add a new card...",spellCheck:!1,onBlur:this.toggleCardComposer}))):j.a.createElement("button",{type:"submit",onClick:this.toggleCardComposer,className:"add-card-button"},"+"))}}]),t}();pr(mr,"propTypes",{listId:P.a.string.isRequired,dispatch:P.a.func.isRequired});var yr=Object(D.connect)()(mr);function hr(e){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(){return(gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .list-wrapper {\n    display: inline-flex;\n    flex-direction: column;\n    height: 100%;\n    user-select: none;\n    -webkit-user-select: none;\n    -webkit-touch-callout: none;\n  }\n\n  .list {\n    display: inline-flex;\n    flex-direction: column;\n    box-sizing: border-box;\n    width: ",";\n    min-height: 0px;\n    max-height: 100%;\n    margin: 0 5px 0 5px;\n    border-radius: ",";\n    font-size: 14px;\n    transition: box-shadow 0.15s, background 0.3s;\n    /* box-shadow: ","; */\n    /* background: ","; */\n  }\n\n  .list--drag {\n    box-shadow: "," !important;\n  }\n\n  .cards-wrapper {\n    height: 100%;\n    margin: 0 3px 6px 3px;\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n\n  .cards-wrapper::-webkit-scrollbar {\n    width: 8px;\n    border-radius: 2px;\n    background-color: ",";\n  }\n\n  .cards-wrapper::-webkit-scrollbar-thumb {\n    border-radius: 2px;\n    background: ",";\n  }\n\n  .cards {\n    min-height: 1px;\n    margin-bottom: 3px;\n  }\n"]);return Er=function(){return e},e}var kr=z.a.span(Er(),function(e){return e.theme.listWidth},function(e){return e.theme.borderRadius},function(e){return e.theme.bs},function(e){return e.theme.mainBackground},function(e){return e.theme.bsDragging},function(e){return e.theme.transparentBlack},function(e){return e.theme.transparentWhite}),Cr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Or(xr(xr(n=function(e,t){return!t||"object"!==hr(t)&&"function"!=typeof t?xr(e):t}(this,(e=vr(t)).call.apply(e,[this].concat(o))))),"render",function(){var e=n.props,t=e.list,r=e.boardId,o=e.index,a=e.categories,i=e.defaultCategory;return j.a.createElement(kr,null,j.a.createElement(_.Draggable,{draggableId:t._id,index:o,disableInteractiveElementBlocking:!0},function(e,n){return j.a.createElement(j.a.Fragment,null,j.a.createElement("div",gr({ref:e.innerRef},e.draggableProps,{className:"list-wrapper"}),j.a.createElement("div",{className:G()("list",{"list--drag":n.isDragging})},j.a.createElement(kt,{dragHandleProps:e.dragHandleProps,listTitle:t.title,listId:t._id,cards:t.cards,boardId:r}),j.a.createElement("div",{className:"cards-wrapper"},j.a.createElement(ir,{listId:t._id,categories:a}))),j.a.createElement(yr,{listId:t._id,defaultCategory:i})),e.placeholder)}))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(t,C["Component"]),t}();Or(Cr,"propTypes",{boardId:P.a.string.isRequired,index:P.a.number.isRequired,list:P.a.shape({_id:P.a.string.isRequired}).isRequired,defaultCategory:P.a.string.isRequired});var jr=Object(D.connect)(function(e,t){return{cards:t.list.cards.map(function(t){return e.cardsById[t]}).filter(function(e){return!1!==e.active}),pomodoro:e.boardsById[t.boardId].settings.pomodoro,categories:e.boardsById[t.boardId].settings.categories,defaultCategory:e.boardsById[t.boardId].settings.defaultCategory}})(Cr);function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dr(e,t){return(Dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(){var e=Pr(["\n  display: inline-flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  width: ",";\n  min-height: 0px;\n  max-height: 100%;\n  margin: 0 5px 0 5px;\n  border-radius: ",";\n  font-size: 14px;\n  transition: box-shadow 0.15s, background 0.3s;\n  box-shadow: ",";\n\n  .list-adder-textarea {\n    float: left;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 6px 10px;\n    border: 0;\n    border-radius: 3px;\n    color: ",";\n    font-family: inherit;\n    font-size: 18px;\n    font-weight: 700;\n    overflow: hidden;\n    resize: none;\n  }\n"]);return _r=function(){return e},e}function Rr(){var e=Pr(["\n  display: inline-flex;\n  flex-shrink: 0;\n  width: ",";\n  margin: 0 5px 0 5px;\n  padding: 10px;\n  border: none;\n  border-radius: ",";\n  color: ",";\n  background: rgba(0, 0, 0, 0.15);\n  font-size: 14px;\n  transition: background 0.2s;\n  user-select: none;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background: rgba(0, 0, 0, 0.25);\n  }\n"]);return Rr=function(){return e},e}function Pr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Nr=z.a.button(Rr(),function(e){return e.theme.listWidth},function(e){return e.theme.borderRadius},function(e){return e.theme.backgroundAccent}),Br=z.a.div(_r(),function(e){return e.theme.listWidth},function(e){return e.theme.borderRadius},function(e){return e.theme.bs},function(e){return e.theme.text}),zr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tr(Ar(Ar(e=function(e,t){return!t||"object"!==Ir(t)&&"function"!=typeof t?Ar(e):t}(this,Sr(t).call(this)))),"handleBlur",function(){e.setState({isOpen:!1})}),Tr(Ar(Ar(e)),"handleChange",function(t){e.setState({listTitle:t.target.value})}),Tr(Ar(Ar(e)),"handleKeyDown",function(t){13===t.keyCode?(t.preventDefault(),e.handleSubmit()):27===t.keyCode&&e.setState({isOpen:!1,listTitle:""})}),Tr(Ar(Ar(e)),"handleSubmit",function(){var t=e.props,n=t.dispatch,r=t.boardId,o=e.state.listTitle,a=Fe.a.generate();""!==o&&(n({type:"ADD_LIST",payload:{listTitle:o,listId:a,boardId:r}}),e.setState({isOpen:!1,listTitle:""}))}),Tr(Ar(Ar(e)),"render",function(){var t=e.state,n=t.isOpen,r=t.listTitle;return n?j.a.createElement(Br,null,j.a.createElement(mt.a,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:r,onChange:e.handleChange,onKeyDown:e.handleKeyDown,className:"list-adder-textarea",onBlur:e.handleBlur,spellCheck:!1})):j.a.createElement(Nr,{type:"submit",onClick:function(){return e.setState({isOpen:!0})}},"Add a new list...")}),e.state={isOpen:!1,listTitle:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dr(e,t)}(t,C["Component"]),t}();Tr(zr,"propTypes",{boardId:P.a.string.isRequired,dispatch:P.a.func.isRequired});var Lr=Object(D.connect)()(zr),qr=n(39),Mr=n.n(qr);function Gr(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  margin-bottom: 30px;\n\n  /* Main section\n------------------------------- */\n  .timer {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-flex-wrap: wrap;\n    -ms-flex-wrap: wrap;\n    flex-wrap: wrap;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    margin-top: 6px;\n  }\n\n  /* Display */\n  .time {\n    font-size: 45px;\n    font-weight: 400;\n    color: ",";\n    display: block;\n    width: 100%;\n    text-align: center;\n  }\n\n  .timeType {\n    display: block;\n    font-size: 20px;\n    color: ",";\n    font-weight: 300;\n    width: 100%;\n    text-align: center;\n  }\n\n  /* Time control */\n  .btn {\n    border: 0;\n    background: ",";\n    color: ",";\n    padding: 5px 0;\n    border-radius: ",";\n    width: 30px;\n    margin: 1px;\n    font-weight: 300;\n    -webkit-transition: background 0.3s;\n    transition: background 0.3s;\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .btn:hover {\n    background: ",";\n  }\n\n  .btn:active,\n  .btn:focus {\n    outline: 0;\n    background: ",";\n  }\n\n  .btnIcon {\n    border: 0;\n    background-color: transparent;\n    background-repeat: no-repeat;\n    background-position: center;\n    width: 40px;\n    height: 40px;\n    background-size: 40px;\n    -webkit-transition: opacity 0.3s;\n    transition: opacity 0.3s;\n    cursor: pointer;\n  }\n\n  .btnIcon:hover {\n    opacity: 0.8;\n  }\n\n  .btnIcon:active,\n  .btnIcon:focus {\n    opacity: 0.5;\n  }\n\n  .btnIcon.pause {\n    color: ",";\n  }\n\n  .btnIcon.play {\n    color: ",";\n  }\n\n  /* Bottom section\n------------------------------- */\n\n  .controls {\n    padding: 2.5px 0;\n  }\n\n  .settings {\n    width: 100%;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    margin: 10px 0;\n    -webkit-flex-wrap: wrap;\n    -ms-flex-wrap: wrap;\n    flex-wrap: wrap;\n    display: flex;\n  }\n\n  .check {\n    display: inline-block;\n    font-size: 12px;\n    -webkit-transition: color 0.3s;\n    transition: color 0.3s;\n    margin: 0px 3px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #pomodori {\n    width: 27px;\n    border: none;\n    color: ",";\n  }\n\n  @media (max-width: 500px) {\n    .check {\n      width: 100%;\n      margin: 10px;\n    }\n  }\n\n  .checkTitle {\n    color: ",';\n    display: inline-block;\n    margin: 0px 4px 0px 7px;\n    font-size: 15px;\n  }\n\n  /* Checkbox style and UI feedback */\n  .check input[type="checkbox"] {\n    display: none;\n  }\n\n  .check label {\n    border: 1px solid ',';\n    height: 10px;\n    width: 10px;\n    margin: 0;\n    padding: 0;\n    display: -webkit-inline-box;\n    display: -webkit-inline-flex;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -ms-flex-align: center;\n    align-items: center;\n    position: relative;\n  }\n\n  .check label:hover {\n    cursor: pointer;\n  }\n\n  .check input[type="checkbox"]:checked + label {\n    border: 1px solid ',';\n  }\n\n  .check input[type="checkbox"]:checked + label:after {\n    background-color: ',';\n    position: absolute;\n    display: block;\n    bottom: 4px;\n    left: -3px;\n    width: 10px;\n    height: 4px;\n    -webkit-transform: rotate(45deg);\n    transform: rotate(45deg);\n    content: "";\n  }\n\n  .check input[type="checkbox"]:checked + label:before {\n    background-color: ',';\n    position: absolute;\n    display: block;\n    bottom: 0px;\n    right: -2px;\n    width: 3px;\n    height: 15px;\n    -webkit-transform: rotate(45deg);\n    transform: rotate(45deg);\n    content: "";\n  }\n\n  .link {\n    color: ',";\n    text-decoration: none;\n    -webkit-transition: color 0.3s;\n    transition: color 0.3s;\n  }\n\n  .link:hover {\n    opacity: 0.8;\n  }\n\n  .link:active,\n  .link:focus {\n    outline: 0;\n    opacity: 0.5;\n  }\n\n  .container-controls {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-evenly;\n    margin: 6px 0;\n\n    .time-switcher {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .done {\n      padding-left: 3px;\n      margin-bottom: 3px;\n      color: ",';\n      text-transform: capitalize;\n      font-size: 22px;\n      font-style: italic;\n      font-family: "Pacifico", cursive;\n    }\n  }\n  .play-count {\n    display: flex;\n    align-items: center;\n  }\n']);return Gr=function(){return e},e}var Fr=z.a.div(Gr(),function(e){return e.theme.text},function(e){return e.theme.text},function(e){return e.theme.monotoneAccent},function(e){return e.theme.backgroundAccent},function(e){return e.theme.borderRadius},function(e){return e.theme.text},function(e){return e.theme.text},function(e){return e.theme.monotoneAccent},function(e){return e.theme.mainAccent},function(e){return e.theme.monotoneAccent},function(e){return e.theme.monotoneAccent},function(e){return e.theme.mainBackground},function(e){return e.theme.mainAccent},function(e){return e.theme.mainAccent},function(e){return e.theme.mainAccent},function(e){return e.theme.text},function(e){return e.theme.mainAccent}),Hr=n(40),Ur=n.n(Hr),Wr=n(41),Yr=n.n(Wr);function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $r=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qr(Jr(Jr(n=function(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?Jr(e):t}(this,Zr(t).call(this,e)))),"getFormatTypes",function(){return[{type:"Code",sessionLength:25},{type:"Coffee",sessionLength:5},{type:"Walk",sessionLength:15}]}),Qr(Jr(Jr(n)),"formatType",function(e){for(var t=n.getFormatTypes(),r=0;r<t.length;r+=1){var o=t[r];if(o.sessionLength===e)return o.type}return null}),Qr(Jr(Jr(n)),"startCountdown",function(){var e=n.state,t=e.timeInterval,r=e.timePaused,o=e.pausedTime;if(!1!==t)n.pauseCountdown();else{var a=(new Date).getTime();n.setState({startTime:a}),!1===r?n.unPauseCountdown():n.setState({endTime:a+o,timePaused:!1}),n.setState({timeInterval:setInterval(n.updateCountdown,990)})}}),Qr(Jr(Jr(n)),"updateCountdown",function(){var e=n.state.endTime-(new Date).getTime(),t=Math.floor(e/1e3%60),r=Math.floor(e/1e3/60%60);e>1e3?n.setState({countdownDisplay:"".concat(r,":").concat(t<10?"0".concat(t):t)}):n.changeSessions()}),Qr(Jr(Jr(n)),"resetInterval",function(){var e=n.state.timeInterval;clearInterval(e),n.setState({timeInterval:!1})}),Qr(Jr(Jr(n)),"changeSessions",function(){var e=n.state,t=e.sessionLength,r=e.pomodoriDone;if(n.resetInterval(),n.alert(),25===t){var o=new Date,a=Qr({},"".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate()),r+1);n.handleSettingsChange("pomodoriDone",a),n.setState({countdownDisplay:"5:00",sessionLength:5,pomodoriDone:r+1})}else n.setState({countdownDisplay:"25:00",sessionLength:25})}),Qr(Jr(Jr(n)),"pauseCountdown",function(){var e=n.state.endTime;n.resetInterval(),n.setState({pausedTime:e-(new Date).getTime(),timePaused:!0})}),Qr(Jr(Jr(n)),"unPauseCountdown",function(){var e=n.state.sessionLength;n.setState({endTime:(new Date).getTime()+6e4*e})}),Qr(Jr(Jr(n)),"alert",function(){if(n.props.pomodoro.audio){var e=new Audio(Mr.a),t=e.play();void 0!==t&&t.then(function(){setTimeout(function(){return e.pause()},2500)}).catch(function(e){})}if(n.props.pomodoro.notification)if(25===n.state.sessionLength)new Notification("Relax :)",{icon:Ur.a,lang:"en",body:"Go talk or drink a coffee."});else new Notification("The time is over!",{icon:Yr.a,lang:"en",body:"Hey, back to code!"})}),Qr(Jr(Jr(n)),"handleSettingsChange",function(e,t){var r=n.props;(0,r.dispatch)({type:"CHANGE_POMODORO_SETTING",payload:{boardId:r.boardId,type:e,value:t}})}),Qr(Jr(Jr(n)),"render",function(){var e=n.state,t=e.timeInterval,r=e.pomodoriDone,o=e.countdownDisplay,a=n.props.pomodoro;return j.a.createElement(Fr,null,j.a.createElement("div",null,j.a.createElement("span",{className:"header"},"Pomodoro · "),j.a.createElement("span",{className:"cursive-header"},"".concat(n.formatType(n.state.sessionLength)," Time!"))),j.a.createElement("hr",null),j.a.createElement("div",null,j.a.createElement("div",{className:"timer"},j.a.createElement("span",{className:"time"},o)),j.a.createElement("div",{className:"container-controls"},j.a.createElement("div",{className:"time-switcher"},j.a.createElement("button",{type:"submit",className:"btn code",onClick:function(){return n.stopCountdown(25)}},j.a.createElement(F.FiCode,null)),j.a.createElement("button",{type:"submit",className:"btn social",onClick:function(){return n.stopCountdown(5)}},j.a.createElement(F.FiTv,null)),j.a.createElement("button",{type:"submit",className:"btn coffee",onClick:function(){return n.stopCountdown(15)}},j.a.createElement(F.FiSun,null))),j.a.createElement("div",{className:"play-count"},t?j.a.createElement(F.FiPauseCircle,{className:"pause btnIcon",onClick:function(){return n.startCountdown()}}):j.a.createElement(F.FiPlayCircle,{className:"play btnIcon",onClick:function(){return n.startCountdown()}}),j.a.createElement("span",{className:"done"},0!==r&&r)))),j.a.createElement("div",{className:"settings"},j.a.createElement("span",{className:"check"},j.a.createElement("input",{type:"checkbox",ref:"notification",id:"notification",defaultChecked:a.notification,onChange:function(){return n.handleSettingsChange("notification",!a.notification)}}),j.a.createElement("label",{htmlFor:"notification"}),j.a.createElement("span",{className:"checkTitle"},j.a.createElement(F.FiMessageSquare,null))),j.a.createElement("span",{className:"check"},j.a.createElement("input",{type:"checkbox",id:"audio",defaultChecked:a.audio,onChange:function(){return n.handleSettingsChange("audio",!a.audio)}}),j.a.createElement("label",{htmlFor:"audio"}),j.a.createElement("span",{className:"checkTitle"},j.a.createElement(F.FiBell,null))),j.a.createElement("span",{className:"check"},j.a.createElement("input",{type:"checkbox",id:"showDayPomo",defaultChecked:a.showDayPomo,onChange:function(){return n.handleSettingsChange("showDayPomo",!a.showDayPomo)}}),j.a.createElement("label",{htmlFor:"showDayPomo"}),j.a.createElement("span",{className:"checkTitle"},j.a.createElement(F.FiBellOff,null))),j.a.createElement("span",{className:"check"},j.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.handleSettingsChange("pomodori",n.state.pomodori)}},j.a.createElement("input",{type:"number",id:"pomodori",placeholder:"Pomodori",value:n.state.pomodori,onChange:function(e){return n.setState({pomodori:parseInt(e.target.value)})}})))))});var r=e.pomodoro,o=new Date,a="".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate()),i=r.pomodoriDone&&r.pomodoriDone[a];return n.state={sessionLength:25,timeInterval:!1,pausedTime:0,timePaused:!1,countdownDisplay:"25:00",endTime:0,pomodoriDone:i||0,pomodori:r.pomodori||0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(t,j.a.Component),function(e,t,n){t&&Vr(e.prototype,t),n&&Vr(e,n)}(t,[{key:"componentDidMount",value:function(){Notification.requestPermission()}},{key:"stopCountdown",value:function(e){this.resetInterval(),this.setState({sessionLength:e,pausedTime:0,timePaused:!1,endTime:0,countdownDisplay:"".concat(e,":00")})}}]),t}();Qr($r,"propTypes",{dispatch:P.a.func.isRequired,boardId:P.a.string.isRequired,pomodoro:P.a.shape({audio:P.a.boolean,notification:P.a.boolean,pomodori:P.a.number,showDayPomo:P.a.boolean}).isRequired});var eo=n(9),to=n.n(eo);function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uo(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .event-title {\n    font-size: 14px;\n    color: ",";\n    padding-bottom: 8px;\n    line-height: 15px;\n  }\n\n  .next-meeting {\n    margin-top: 5px;\n  }\n\n  .pomodori-left {\n    color: ",";\n    font-size: 15px;\n  }\n"]);return uo=function(){return e},e}var lo=z.a.div(uo(),function(e){return e.theme.text},function(e){return e.theme.monotoneAccent}),so=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),co(io(io(e=function(e,t){return!t||"object"!==no(t)&&"function"!=typeof t?io(e):t}(this,oo(t).call(this)))),"componentDidMount",function(){var t=e.props.user;to()().subtract(t.expiryDate,"s").format("X")>-300?e.refreshAccessToken():e.fetchEvents()}),co(io(io(e)),"fetchEvents",function(){var t=e.props.eventCalendarId;t&&fetch("https://www.googleapis.com/calendar/v3/calendars/".concat(t,"/events?access_token=").concat(e.props.user.accessToken,"&timeMin=").concat((new Date).toISOString(),"&showDeleted=false&singleEvents=true&maxResults=5&orderBy=startTime")).then(function(e){return e.json()}).then(function(t){e.setState({events:t.items.filter(function(e){return e.start.dateTime})})}).then(function(){e.nextEventTime(),setInterval(e.nextEventTime,55e3)})}),co(io(io(e)),"refreshAccessToken",function(){fetch("https://www.googleapis.com/oauth2/v4/token?client_id=".concat(process.env.GOOGLE_CLIENT_ID,"&client_secret=").concat(process.env.GOOGLE_CLIENT_SECRET,"&refresh_token=").concat(e.props.user.refreshToken,"&grant_type=refresh_token"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.json()}).then(function(t){var n=to()().add(t.expires_in,"s").format("X");e.props.dispatch({type:"UPDATE_USER",payload:{accessToken:t.access_token,expiryDate:n}})}).then(function(){return e.fetchEvents()})}),co(io(io(e)),"nextEventTime",function(){var t=e.state.events,n=new Date;t.some(function(t){var r=t.start.dateTime;if((new Date(r)-n)/6e4>0)return e.setState({nextEventTime:r}),!0})}),e.state={events:[],nextEventTime:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(t,C["Component"]),function(e,t,n){t&&ro(e.prototype,t),n&&ro(e,n)}(t,[{key:"render",value:function(){var e=this.state,t=e.events,n=e.nextEventTime,r=Math.floor((new Date(n)-new Date)/6e4/30),o=to()(n).fromNow();return j.a.createElement(lo,null,j.a.createElement("span",{className:"header"},"Events "),0!==t.length&&j.a.createElement("span",{className:"cursive-header pomodori-left"}," · ".concat(r,1===r?" Pomodoro":" Pomodori")),j.a.createElement("hr",null),0!==t.length&&j.a.createElement("div",{className:"cursive-header next-meeting"},"Next meeting is ".concat(o,".")),j.a.createElement("ul",null,t&&t.map(function(e){return j.a.createElement("li",{key:e.id,className:"event-title"},e.summary," - ",to()(e.start.dateTime).format("LT"))})))}}]),t}();function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bo(e,t){return(bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .completed-task-wrapper {\n    border-radius: 3px;\n    color: ",";\n    border: 1px solid ",";\n    width: 100%;\n    margin: 3px 0;\n    padding: 3px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n\n    &:hover {\n      .completed-task-text {\n        white-space: normal;\n      }\n    }\n\n    .completed-task-text {\n      font-size: 15px;\n      width: 100%;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      &:hover {\n        white-space: normal;\n      }\n    }\n\n    .card-icon {\n      cursor: pointer;\n      min-width: 16px;\n      stroke: ",";\n      &:hover {\n        stroke: ",";\n      }\n    }\n\n    .card-icon-starred {\n      fill: #ffcb34;\n      stroke: #ffcb34;\n      &:hover {\n        fill: #ffb934;\n        stroke: #ffb934;\n      }\n    }\n  }\n\n  .stat-badges {\n    display: flex;\n    justify-content: space-between;\n    margin: 10px 0;\n    flex-wrap: wrap;\n\n    .minute-badges {\n      margin-bottom: 5px;\n    }\n  }\n"]);return ho=function(){return e},e}var go=z.a.div(ho(),function(e){return e.theme.text},function(e){return e.theme.mainBackground},function(e){return e.theme.monotoneAccent},function(e){return e.theme.text}),vo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yo(mo(mo(e=function(e,t){return!t||"object"!==po(t)&&"function"!=typeof t?mo(e):t}(this,fo(t).call(this)))),"deleteCard",function(t){var n=e.props;(0,n.dispatch)({type:"DELETE_CARD",payload:{cardId:t,listId:n.completedListId}})}),yo(mo(mo(e)),"renderCategorySummary",function(t){for(var n,r=e.props.categories,o=[],a=function(e){n=t.filter(function(e){return 0===_t()(e.completedAt,new Date)}).filter(function(t){return t.categoryId&&t.categoryId===r[e]._id}).map(function(e){return e.minutes}).reduce(function(e,t){return e+t},0),o.push({name:[r[e].short],minutes:n,color:r[e].color})},i=0;i<r.length;i++)a(i);return o}),yo(mo(mo(e)),"handleStarClick",function(t){(0,e.props.dispatch)({type:"CHANGE_CARD_STAR",payload:{cardId:t}})}),yo(mo(mo(e)),"renderCompletedDateSection",function(t,n,r){var o=t.filter(function(e){return _t()(e.completedAt,new Date)===n});if(0!==o.length)return j.a.createElement(j.a.Fragment,null,j.a.createElement("p",{className:"cursive-header"},r),j.a.createElement("ul",null,o.map(function(t){return j.a.createElement("li",{key:t._id,className:"completed-task-wrapper",style:{borderLeft:"2px solid ".concat(t.category?t.category.color:"light-grey")},onMouseEnter:function(){return e.setState({hoverTask:t._id})},onMouseLeave:function(){return e.setState({hoverTask:""})}},j.a.createElement("span",{className:"completed-task-text"},t.text),e.state.hoverTask===t._id&&j.a.createElement(j.a.Fragment,null,j.a.createElement(F.FiRepeat,{className:"card-icon"}),j.a.createElement(F.FiX,{className:"card-icon",onClick:function(){return e.deleteCard(t._id)}})),j.a.createElement(F.FiStar,{className:t.starred?"card-icon card-icon-starred":"card-icon",onClick:function(){return e.handleStarClick(t._id)}}))})))}),yo(mo(mo(e)),"render",function(){var t=e.props.cards,n=0!==t.length&&t.map(function(e){return e.difficulty}).reduce(function(e,t){return e+t});return j.a.createElement(go,null,j.a.createElement("div",{className:"header"},"Task Stats · ",j.a.createElement("span",{className:"number"},n||0)),j.a.createElement("hr",null),t&&0!==t.length&&j.a.createElement(j.a.Fragment,null,j.a.createElement("div",{className:"stat-badges"},e.renderCategorySummary(t).map(function(e){return 0!==e.minutes&&j.a.createElement("div",{className:"minute-badges",key:e.name},j.a.createElement("div",{className:G()("minute-badge","badge"),style:{background:e.color}},e.minutes," min"))})),e.renderCompletedDateSection(t,0,"Today"),e.renderCompletedDateSection(t,-1,"Yesterday"),e.renderCompletedDateSection(t,-2,"The Day Before Yesterday")))}),e.state={hoverTask:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}(t,C["Component"]),t}();yo(vo,"propTypes",{cards:P.a.arrayOf(P.a.shape({_id:P.a.string.isRequired,text:P.a.string.isRequired,difficulty:P.a.number.isRequired}).isRequired),completedListId:P.a.string.isRequired});var wo=vo;function xo(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: ",";\n  width: 220px;\n  padding: 25px 8px 8px 8px;\n  margin-top: 40px;\n  box-shadow: ",";\n  max-height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return xo=function(){return e},e}var Oo=z.a.div(xo(),function(e){return e.theme.backgroundAccent},function(e){return e.theme.bs});function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var So=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Io(jo(jo(n=function(e,t){return!t||"object"!==Eo(t)&&"function"!=typeof t?jo(e):t}(this,(e=ko(t)).call.apply(e,[this].concat(o))))),"render",function(){var e=n.props,t=e.cards,r=e.pomodoro,o=e.dispatch,a=e.boardId,i=e.user,c=e.completedListId,u=e.categories,l=e.eventCalendarId;return j.a.createElement(Oo,null,j.a.createElement($r,{pomodoro:r,dispatch:o,boardId:a}),i&&j.a.createElement(so,{user:i,dispatch:o,eventCalendarId:l}),j.a.createElement(wo,{cards:t,completedListId:c,dispatch:o,categories:u}))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}(t,C["Component"]),t}();Io(So,"propTypes",{cards:P.a.arrayOf(P.a.shape({_id:P.a.string.isRequired,text:P.a.string.isRequired,difficulty:P.a.number.isRequired}).isRequired),pomodoro:P.a.object.isRequired,dispatch:P.a.func.isRequired,boardId:P.a.string.isRequired,completedListId:P.a.string.isRequired,user:P.a.object,categories:P.a.array});var Do=Object(D.connect)(function(e,t){var n=e.boardsById[t.boardId].settings.completedListId;return{cards:e.listsById[n].cards.map(function(t){return e.cardsById[t]}),completedListId:n,user:e.user,categories:e.boardsById[t.boardId].settings.categories,eventCalendarId:e.boardsById[t.boardId].settings.eventCalendarId}})(So);function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e,t){return(Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bo(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .recurring-task-item {\n    margin-bottom: 5px;\n\n    .recurring-tasks-title {\n      font-size: 14px;\n      color: ",";\n    }\n\n    .recurring-time {\n      font-size: 12px;\n      color: ",";\n    }\n  }\n"]);return Bo=function(){return e},e}var zo=z.a.div(Bo(),function(e){return e.theme.text},function(e){return e.theme.monotoneAccent}),Lo=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return No(Po(Po(n=function(e,t){return!t||"object"!==Ao(t)&&"function"!=typeof t?Po(e):t}(this,(e=_o(t)).call.apply(e,[this].concat(o))))),"render",function(){var e=n.props.cards;return j.a.createElement(Oo,null,j.a.createElement(zo,null,j.a.createElement("div",{className:"header"},"Repeating Tasks"),j.a.createElement("hr",null),j.a.createElement("ul",null,e.map(function(e){return j.a.createElement("li",{key:e._id,className:"recurring-task-item"},j.a.createElement("span",{className:"recurring-tasks-title"},e.text),j.a.createElement("hr",null),j.a.createElement("span",{className:"recurring-time"},e.recurringText))}))))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}(t,C["Component"]),function(e,t,n){t&&To(e.prototype,t),n&&To(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.lastCheckinDate,r=t.dispatch,o=t.cards,a=new Date,i=new Date(n);if(i<a)for(var c=0;c<o.length;c++){var u=o[c];!u.active&&i>new Date(u.nextDate)&&r({type:"CHANGE_CARD_ACTIVE",payload:{cardId:u._id,active:!0}})}this.interval=setInterval(function(){return e.recurringCalculator()},2e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"recurringCalculator",value:function(){var e=this.props,t=e.cards,n=e.dispatch,r=new Date;t.forEach(function(e){var t=new Date(e.nextDate);t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()&&t.getHours()===r.getHours()&&t.getMinutes()===r.getMinutes()&&n({type:"CHANGE_CARD_ACTIVE",payload:{cardId:e._id,active:!0}})})}}]),t}();No(Lo,"propTypes",{cards:P.a.arrayOf(P.a.shape({_id:P.a.string.isRequired,text:P.a.string.isRequired,difficulty:P.a.number.isRequired}).isRequired).isRequired,dispatch:P.a.func.isRequired});var qo=Object(D.connect)(function(e,t){var n=e.cardsById,r=e.boardsById;return{cards:Object.keys(n).filter(function(e){return n[e].nextDate}).map(function(e){return n[e]}),lastCheckinDate:r[t.boardId].settings.checkinDate}})(Lo);function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wo(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n  box-sizing: border-box;\n  border-radius: 3px;\n  color: ",";\n  background: ",";\n  border: 1px solid ",";\n  font-size: 15px;\n  width: 100%;\n  margin: 3px 0;\n  padding: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-right: 3px solid #eaecee;\n  border-right-color: ",";\n\n  .options-list-button {\n    height: auto;\n    padding: 0;\n    margin: 0;\n    color: ",";\n  }\n\n  .habit-check {\n    cursor: pointer;\n    padding-right: 5px;\n    color: ",";\n    font-size: 20px;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  .habit-delete {\n    cursor: pointer;\n    color: ",";\n  }\n\n  .habits-card-title {\n    position: relative;\n    box-sizing: border-box;\n    font-size: 15px;\n    width: 100%;\n    overflow: hidden;\n\n    p {\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .habit-done {\n      font-size: 10px;\n      position: relative;\n      top: -5px;\n      color: ",";\n      font-weight: 700;\n    }\n  }\n"]);return Wo=function(){return e},e}var Yo=z.a.li(Wo(),function(e){return e.theme.text},function(e){return e.theme.backgroundAccent},function(e){return e.theme.mainBackground},function(e){return e.theme["".concat(function(e){return 2===e?"blue":3===e?"red":"lightGrey"}(e.cardDifficulty))]},function(e){return e.theme.mainBackground},function(e){return e.theme.monotoneAccent},function(e){return e.theme.success},function(e){return e.theme.monotoneAccent},function(e){return e.theme.mainAccent}),Xo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Uo(Ho(Ho(n=function(e,t){return!t||"object"!==Mo(t)&&"function"!=typeof t?Ho(e):t}(this,Go(t).call(this,e)))),"deleteCard",function(e){var t=n.props;(0,t.dispatch)({type:"DELETE_CARD",payload:{cardId:e,listId:t.habitsListId}})}),Uo(Ho(Ho(n)),"changeHabitStat",function(){var e=n.props,t=e.dispatch,r=e.boardId,o=e.card,a=new Date;t({type:"CHANGE_HABIT_STATS",payload:{boardId:r,habit:{date:"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()),cardId:o._id}}})}),Uo(Ho(Ho(n)),"changeDifficulty",function(e){var t=n.props,r=t.dispatch,o=t.card;o.difficulty!==e&&r({type:"CHANGE_CARD_DIFFICULTY",payload:{difficulty:e,cardId:o._id}}),n.togglePicker("Difficulty")}),Uo(Ho(Ho(n)),"togglePicker",function(e){var t="is".concat(e,"PickerOpen");n.setState(Uo({},t,!n.state[t]))}),Uo(Ho(Ho(n)),"render",function(){var e=n.props,t=e.card,r=e.habitStats,o=n.state.isDifficultyPickerOpen,a=new Date,i="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()),c=r[i]&&r[i].reduce(function(e,n){return e+(n===t._id)},0);return j.a.createElement(Yo,{cardDifficulty:t.difficulty},j.a.createElement(F.FiCheckCircle,{className:"habit-check",onClick:function(){return n.changeHabitStat()}}),j.a.createElement("span",{className:"habits-card-title"},j.a.createElement("div",{className:"card-title-html",dangerouslySetInnerHTML:{__html:Rn(t.text)}})," ",j.a.createElement("span",{className:"habit-done"},0!==c&&c)),j.a.createElement(dn,{isPickerOpen:o,togglePicker:n.togglePicker,type:"Difficulty",icon:j.a.createElement(F.FiFlag,{className:"modal-icon"})},[1,2,3].map(function(e){return j.a.createElement("button",{key:e,type:"submit",className:"picker-button",onClick:function(){return n.changeDifficulty(e)}},e)})),j.a.createElement(F.FiX,{className:"habit-delete",onClick:function(){return n.deleteCard(t._id)}}))}),n.state={isDifficultyPickerOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}(t,C["Component"]),t}();Uo(Xo,"propTypes",{});var Vo=Xo,Zo=n(42),Ko=n.n(Zo);function Jo(e){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function na(){var e=oa(["\n  .habit-target {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 5px;\n    align-items: center;\n\n    .goal {\n      color: ",";\n      display: flex;\n      align-items: center;\n\n      input {\n        width: 17px;\n        border: none;\n        color: ",';\n        outline: none;\n        text-align: right;\n        background: transparent;\n      }\n\n      input[type="number"]::-webkit-inner-spin-button,\n      input[type="number"]::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        margin: 0;\n      }\n    }\n\n    .habit-progress-wrapper {\n      background-color: ',";\n      width: 100%;\n      float: left;\n      margin-right: 15px;\n      height: 13px;\n\n      .habit-progress {\n        background-color: ",";\n        width: 100%;\n        height: 13px;\n      }\n    }\n  }\n"]);return na=function(){return e},e}function ra(){var e=oa(["\n  .ct-series-a .ct-line {\n    stroke: ",";\n    stroke-width: 2px;\n    fill: none;\n  }\n\n  .ct-series-a .ct-point {\n    stroke: ",";\n    stroke-width: 8px;\n    stroke-linecap: round;\n  }\n\n  .ct-area {\n    opacity: 0.4;\n    fill: ",";\n  }\n\n  .ct-label.ct-horizontal.ct-end {\n    display: flex;\n    position: relative;\n    justify-content: flex-end;\n    text-align: right;\n    transform-origin: 100% 0;\n    transform: translate(-63%) rotate(0deg);\n    white-space: nowrap;\n    font-size: 12px;\n    color: ",';\n    font-family: "Pacifico", cursive;\n    margin-top: 3px;\n  }\n']);return ra=function(){return e},e}function oa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var aa=z.a.div(ra(),function(e){return e.theme.text},function(e){return e.theme.mainAccent},function(e){return e.theme.monotoneAccent},function(e){return e.theme.grey}),ia=z.a.div(na(),function(e){return e.theme.monotoneAccent},function(e){return e.theme.monotoneAccent},function(e){return e.theme.mainBackground},function(e){return e.theme.success}),ca=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ta(ea(ea(n=function(e,t){return!t||"object"!==Jo(t)&&"function"!=typeof t?ea(e):t}(this,Qo(t).call(this,e)))),"switchClass",function(){var e=n.state.number;n.setState({number:e+1,className:"number numberLarge"}),setTimeout(function(){n.setState({className:"number"})},1200)}),ta(ea(ea(n)),"calculateLabel",function(e){var t=new Date;return t.setDate(t.getDate()-e),to()(t).format("ddd")}),ta(ea(ea(n)),"calculateSeries",function(e){var t=n.props,r=t.stats,o=t.cards,a=0,i=new Date;i.setDate(i.getDate()-e);var c="".concat(i.getFullYear(),"-").concat(i.getMonth()+1,"-").concat(i.getDate());return r.habits[c]?(r.habits[c].map(function(e){o[e]&&(a+=o[e].difficulty)}),a):0}),ta(ea(ea(n)),"handleSettingsChange",function(e,t){var r=n.props;(0,r.dispatch)({type:"CHANGE_GOAL_SETTING",payload:{boardId:r.boardId,type:e,value:t}})}),ta(ea(ea(n)),"render",function(){var e=n.props.habitGoals,t=n.calculateSeries(0)/parseInt(e),r=t>1?"100%":"".concat(100*t,"%"),o={labels:[n.calculateLabel(4),n.calculateLabel(3),n.calculateLabel(2),n.calculateLabel(1),n.calculateLabel(0)],series:[[n.calculateSeries(4),n.calculateSeries(3),n.calculateSeries(2),n.calculateSeries(1),n.calculateSeries(0)]]};return j.a.createElement(j.a.Fragment,null,j.a.createElement(ia,null,j.a.createElement("div",{className:"header"},"Habits · ",j.a.createElement("span",{className:"number"},n.calculateSeries(0))),j.a.createElement("hr",null),j.a.createElement("div",{className:"habit-target"},j.a.createElement("div",{className:"habit-progress-wrapper"},j.a.createElement("div",{className:"habit-progress",style:{width:r}})),j.a.createElement("span",{className:"goal"},j.a.createElement(F.FiStar,null),j.a.createElement("input",{type:"number",onChange:function(e){return n.handleSettingsChange("habits",e.target.value)},value:e})))),j.a.createElement(aa,null,j.a.createElement(Ko.a,{data:o,options:{low:0,showArea:!0,fullWidth:!0,chartPadding:12,axisX:{showGrid:!1},axisY:{offset:0,showLabel:!1,showGrid:!0},width:"100%",height:"140px"},type:"Line"})))});var r=new Date,o="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),a=n.props.stats.habits[o]&&n.props.stats.habits[o].length;return n.state={number:a||0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(t,C["Component"]),t}();ta(ca,"propTypes",{});var ua=Object(D.connect)(function(e,t){return{stats:e.boardsById[t.boardId].stats,cards:e.cardsById,habitGoals:e.boardsById[t.boardId].settings.goals.habits}})(ca);function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function da(e,t){return(da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ba(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: rgba(201, 207, 211, 0.25);\n  width: 200px;\n  padding: 25px 8px 8px 8px;\n  margin-top: 40px;\n  max-height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  .card-title-html {\n    padding: 0;\n    display: inline;\n    float: left;\n    padding-right: 2px;\n  }\n\n\tul {\n\t\tmargin-top: 0;\n\t}\n"]);return ba=function(){return e},e}var ma=z.a.div(ba()),ya=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fa(pa(pa(n=function(e,t){return!t||"object"!==la(t)&&"function"!=typeof t?pa(e):t}(this,sa(t).call(this,e)))),"render",function(){var e=n.props,t=e.cards,r=e.habitsListId,o=e.habitStats,a=e.dispatch,i=e.boardId;return j.a.createElement(ma,null,j.a.createElement(ua,{boardId:i}),j.a.createElement("ul",null,t&&0!==t.length&&t.map(function(e){return j.a.createElement(Vo,{key:e._id,dispatch:a,card:e,habitsListId:r,boardId:i,habitStats:o})})),j.a.createElement(yr,{listId:r}))}),n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&da(e,t)}(t,C["Component"]),t}();fa(ya,"propTypes",{cards:P.a.arrayOf(P.a.shape({_id:P.a.string.isRequired,text:P.a.string.isRequired,difficulty:P.a.number.isRequired}).isRequired),dispatch:P.a.func.isRequired,boardId:P.a.string.isRequired});var ha=Object(D.connect)(function(e,t){var n=e.boardsById[t.boardId].settings.habitsListId;return{cards:e.listsById[n].cards.map(function(t){return e.cardsById[t]}),habitsListId:n,user:e.user,habitStats:e.boardsById[t.boardId].stats.habits}})(ya);function ga(e){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wa(e,t){return(wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: inline-flex;\n  height: 100%;\n  min-width: 100%;\n\n  .board-underlay {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: -1;\n    transition: background 0.3s;\n    background: ",";\n  }\n\n  .lists-wrapper {\n    display: inline-flex;\n    box-sizing: border-box;\n    height: 100%;\n    padding: 60px 5px 8px 5px;\n  }\n\n  .lists {\n    display: inline-flex;\n    align-items: flex-start;\n    height: 100%;\n    user-select: none;\n  }\n"]);return Ea=function(){return e},e}var ka=z.a.div(Ea(),function(e){return e.theme.mainBackground}),Ca=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oa(xa(xa(n=function(e,t){return!t||"object"!==ga(t)&&"function"!=typeof t?xa(e):t}(this,va(t).call(this,e)))),"componentDidMount",function(){var e=n.props,t=e.boardId;(0,e.dispatch)({type:"PUT_BOARD_ID_IN_REDUX",payload:{boardId:t}})}),Oa(xa(xa(n)),"componentWillUnmount",function(){var e=n.props;(0,e.dispatch)({type:"CHANGE_LAST_CHECKIN",payload:{boardId:e.boardId,checkinDate:new Date}})}),Oa(xa(xa(n)),"handleDragEnd",function(e){var t=e.source,r=e.destination,o=e.type;if(r){var a=n.props,i=a.dispatch,c=a.boardId,u=a.completedListId,l=a.habitsListId;"COLUMN"!==o?t.index===r.index&&t.droppableId===r.droppableId||i({type:"MOVE_CARD",payload:{sourceListId:t.droppableId,destListId:r.droppableId,oldCardIndex:t.index,newCardIndex:r.index,boardId:c}}):t.index!==r.index&&i({type:"MOVE_LIST",payload:{oldListIndex:t.index,newListIndex:r.index,boardId:t.droppableId,completedListId:u,habitsListId:l}})}}),Oa(xa(xa(n)),"handleMouseDown",function(e){var t=e.target,r=e.clientX;"list-wrapper"!==t.className&&"lists"!==t.className||(window.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleMouseUp),n.setState({startX:r,startScrollX:window.scrollX}))}),Oa(xa(xa(n)),"handleMouseMove",function(e){var t=e.clientX,r=n.state,o=r.startX,a=r.startScrollX,i=a-t+o;window.scrollTo(i,0);var c=window.scrollX;i!==c&&n.setState({startX:t+c-a})}),Oa(xa(xa(n)),"handleMouseUp",function(){n.state.startX&&(window.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleMouseUp),n.setState({startX:null,startScrollX:null}))}),Oa(xa(xa(n)),"handleWheel",function(e){var t=e.target,n=e.deltaY;"list-wrapper"!==t.className&&"lists"!==t.className&&"open-composer-button"!==t.className&&"list-title-button"!==t.className||(1===Math.sign(n)?window.scrollTo(window.scrollX+80,0):-1===Math.sign(n)&&window.scrollTo(window.scrollX-80,0))}),Oa(xa(xa(n)),"render",function(){var e=n.props,t=e.lists,r=e.boardTitle,o=e.boardId,a=(e.boardColor,e.pomodoro),i=e.completedListId,c=e.habitsListId,u=e.changeTheme,l=e.setBoardColor,s=t.filter(function(e){return e&&e._id!==i&&e._id!==c});return j.a.createElement(ka,null,j.a.createElement(T.Title,null,r," | Kanban 2.0"),j.a.createElement(Me,{changeTheme:u,setBoardColor:l}),j.a.createElement(Do,{pomodoro:a,boardId:o}),j.a.createElement(ha,{boardId:o}),j.a.createElement("div",{className:"lists-wrapper",onMouseDown:n.handleMouseDown,onWheel:n.handleWheel},j.a.createElement(_.DragDropContext,{onDragEnd:n.handleDragEnd},j.a.createElement(_.Droppable,{droppableId:o,type:"COLUMN",direction:"horizontal"},function(e){return j.a.createElement("div",{className:"lists",ref:e.innerRef},s.map(function(e,t){return j.a.createElement(jr,{list:e,boardId:o,index:t,key:e._id})}),e.placeholder,j.a.createElement(Lr,{boardId:o}))}))),j.a.createElement(qo,{pomodoro:a,boardId:o}),j.a.createElement("div",{className:"board-underlay"}))}),n.state={startX:null,startScrollX:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wa(e,t)}(t,C["Component"]),t}();Oa(Ca,"propTypes",{lists:P.a.arrayOf(P.a.shape({_id:P.a.string.isRequired})).isRequired,boardId:P.a.string.isRequired,boardTitle:P.a.string.isRequired,boardColor:P.a.string.isRequired,pomodoro:P.a.object.isRequired,dispatch:P.a.func.isRequired});var ja=Object(D.connect)(function(e,t){var n=t.board,r=e.boardsById[n._id].settings.completedListId,o=e.boardsById[n._id].settings.habitsListId;return{lists:n.lists.map(function(t){return e.listsById[t]}),boardTitle:n.title,boardColor:n.settings.color,boardId:n._id,pomodoro:n.settings.pomodoro,completedListId:r,habitsListId:o}})(Ca),Ia=function(e){var t=e.board,n=e.changeTheme,r=e.setBoardColor;return t?j.a.createElement(ja,{board:t,changeTheme:n,setBoardColor:r}):j.a.createElement(A.Redirect,{to:"/"})};Ia.propTypes={board:P.a.object};var Sa=Object(D.connect)(function(e,t){var n=t.match.params.boardId;return{board:e.boardsById[n]}})(Ia),Da=n(43),Aa=n.n(Da),Ta=n(25),_a=n.n(Ta),Ra=n(44),Pa=n.n(Ra);function Na(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  height: 100%;\n  width: 100%;\n  color: white;\n\n  .landing-page-background {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-color: #300;\n  }\n\n  .landing-page-background img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    object-fit: cover;\n    object-position: 50% 100%;\n  }\n\n  /* wrapper added as a hack to make background */\n  .landing-page-info-wrapper {\n    position: relative;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.3);\n    z-index: 5;\n  }\n\n  .landing-page-info {\n    padding: 100px 30px;\n    z-index: 5;\n  }\n\n  .landing-page-heading {\n    display: flex;\n    align-items: center;\n\n    h1 {\n      font-size: 30px;\n    }\n  }\n\n  .landing-page-logo {\n    height: 55px;\n  }\n\n  .landing-page-description {\n    margin: 10px 0;\n    font-size: 18px;\n    font-weight: 700;\n\n    a {\n      color: white;\n    }\n  }\n\n  .signin-buttons {\n    display: flex;\n    justify-content: space-between;\n    width: 650px;\n  }\n\n  .signin-button {\n    display: inline-flex;\n    flex-shrink: 1;\n    align-self: flex-start;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    width: 210px;\n    height: 40px;\n    margin-top: 10px;\n    border: 0;\n    border-radius: 3px;\n    color: white;\n    font-size: 15px;\n    font-weight: 700;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  .google-button {\n    background: white;\n    color: ",";\n  }\n\n  .google-button:hover,\n  .google-button:focus {\n    background: #ddd;\n  }\n\n  .logo-icon {\n    font-size: 30px;\n  }\n\n  .google-logo {\n    height: 30px;\n  }\n\n  .guest-button-wrapper {\n    position: relative;\n  }\n\n  .guest-button {\n    background: white;\n    color: ",";\n  }\n\n  .guest-button:hover,\n  .guest-button:focus {\n    background: #ddd;\n  }\n\n  @media (max-width: 800px) {\n    .landing-page-info-wrapper {\n      justify-content: center;\n      align-items: center;\n      background: rgba(0, 0, 0, 0.6);\n    }\n\n    .landing-page-info {\n      padding: 10px;\n      justify-content: center;\n    }\n\n    .landing-page-heading {\n      justify-content: center;\n    }\n\n    .landing-page-description {\n      text-align: center;\n    }\n\n    .signin-buttons {\n      flex-direction: column;\n      align-items: center;\n      width: auto;\n    }\n\n    .signin-button {\n      width: 320px;\n    }\n  }\n\n  @media (max-width: 440px) {\n    .signin-button {\n      width: 240px;\n    }\n  }\n\n  @media (max-height: 350px) {\n    .landing-page-heading h1 {\n      margin: 10px 0;\n    }\n  }\n"]);return Na=function(){return e},e}var Ba=z.a.div(Na(),function(e){return e.theme.text},function(e){return e.theme.text});function za(e){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fa=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Ga(Ma(Ma(n=function(e,t){return!t||"object"!==za(t)&&"function"!=typeof t?Ma(e):t}(this,(e=La(t)).call.apply(e,[this].concat(o))))),"enterAsGuest",function(){(0,n.props.dispatch)({type:"ENTER_AS_GUEST"})}),Ga(Ma(Ma(n)),"render",function(){return j.a.createElement(Ba,null,j.a.createElement(T.Title,null,"Sign in | React Kanban"),j.a.createElement("div",{className:"landing-page-background"},j.a.createElement("img",{srcSet:"".concat(_a.a," 1920w, ").concat(Pa.a," 1366w"),src:_a.a,alt:"background"})),j.a.createElement("div",{className:"landing-page-info-wrapper"},j.a.createElement("div",{className:"landing-page-info"},j.a.createElement("div",{className:"landing-page-heading"},j.a.createElement("h1",null,"React Kanban")),j.a.createElement("p",{className:"landing-page-description"},"An open source kanban application inspired by Trello. Check out the source code on"," ",j.a.createElement("a",{href:"https://github.com/amelieoller/kanban-2.0",target:"_blank",rel:"noopener noreferrer"},"GitHub"),"."),j.a.createElement("div",{className:"signin-buttons"},j.a.createElement("div",null,j.a.createElement("a",{href:"/auth/google",className:"signin-button google-button"},j.a.createElement("img",{className:"google-logo",src:Aa.a,alt:"google logo"})," Sign in with Google")),j.a.createElement("div",{className:"guest-button-wrapper"},j.a.createElement("button",{type:"submit",onClick:n.enterAsGuest,className:"signin-button guest-button"},j.a.createElement(F.FiUser,{className:"logo-icon"}),"  Enter as guest"))))))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(t,C["Component"]),t}();Ga(Fa,"propTypes",{dispatch:P.a.func.isRequired});var Ha=Object(D.connect)()(Fa),Ua=n(45);function Wa(e){return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Va(e,t){return(Va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ja(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .color {\n    width: 20px;\n    height: 20px;\n    border-radius: 2px;\n    background: ",";\n  }\n  .swatch {\n    padding: 3px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n  .popover {\n    position: absolute;\n    z-index: 2;\n  }\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n"]);return Ja=function(){return e},e}var Qa=z.a.span(Ja(),function(e){return"rgba(".concat(e.color.r,", ").concat(e.color.g,", ").concat(e.color.b,", ").concat(e.color.a,")")}),$a=function(e){function t(e){var n,r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ka(Za(Za(n=function(e,t){return!t||"object"!==Wa(t)&&"function"!=typeof t?Za(e):t}(this,Xa(t).call(this,e)))),"handleClick",function(){n.setState({displayColorPicker:!n.state.displayColorPicker})}),Ka(Za(Za(n)),"handleClose",function(){n.setState({displayColorPicker:!1})}),Ka(Za(Za(n)),"handleChange",function(e){n.setState({color:e.rgb}),n.props.handleColorChange("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"))}),e.previousColor){var o=e.previousColor,a=(o.slice(4,4)+o.slice(5,o.length-1)).split(", ");r={r:a[0],g:a[1],b:a[2],a:a[3]}}else r={r:"242",g:"153",b:"133",a:"1"};return n.state={displayColorPicker:!1,color:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Va(e,t)}(t,C["Component"]),function(e,t,n){t&&Ya(e.prototype,t),n&&Ya(e,n)}(t,[{key:"render",value:function(){var e=this.state.color;return j.a.createElement(Qa,{color:e},j.a.createElement("div",{className:"swatch",onClick:this.handleClick},j.a.createElement("div",{className:"color"})),this.state.displayColorPicker?j.a.createElement("div",{className:"popover"},j.a.createElement("div",{className:"cover",onClick:this.handleClose}),j.a.createElement(Ua.TwitterPicker,{color:this.state.color,colors:["#555555","#898999","#E98D5A","#F29985","#FFC461","#FFCD7B","#8AC476","#6AD08D","#00BF96","#00A3C0","#0075A3","#3A81CD","#7AB6FF","#5367CB","#9C55A4"],onChange:this.handleChange})):null)}}]),t}();function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ni(e,t){return(ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .edit-category-form {\n    display: flex;\n    align-items: center;\n    .edit-category {\n      background: transparent;\n      border: none;\n      font-size: 16px;\n    }\n    .short {\n      width: 40px;\n    }\n    .delete-button {\n      margin: 0 8px;\n    }\n  }\n\n  .new-category-form {\n    display: flex;\n    align-items: center;\n\n    label {\n      display: inline-block;\n    }\n\n    .new-input {\n      display: block;\n      padding: 0.375rem 0.75rem;\n      font-size: 1rem;\n      line-height: 1;\n      color: #495057;\n      background-color: #fff;\n      background-clip: padding-box;\n      border: 1px solid #ced4da;\n      border-radius: 0.25rem;\n      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    }\n  }\n"]);return ai=function(){return e},e}var ii=z.a.div(ai()),ci=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oi(ri(ri(e=function(e,t){return!t||"object"!==ei(t)&&"function"!=typeof t?ri(e):t}(this,ti(t).call(this)))),"handleSubmit",function(t){t.preventDefault();var n=e.state,r=n.categoryName,o=n.categoryShort,a=n.categoryColor;if(r&&o&&a){var i=e.props,c=i.match;(0,i.dispatch)({type:"ADD_CATEGORY",payload:{boardId:c.params.boardId,category:{name:r,short:o,color:a,_id:Fe.a.generate()}}})}}),oi(ri(ri(e)),"handleNewCategoryChange",function(t){e.setState(oi({},t.target.name,t.target.value))}),oi(ri(ri(e)),"handleEditCategoryChange",function(t,n,r){e.setState(oi({},"".concat(n,"-").concat(r),t.target.value))}),oi(ri(ri(e)),"handleEditCategoryColorChange",function(t,n){e.setState(oi({},"".concat(n,"-color"),t))}),oi(ri(ri(e)),"handleEditCategorySubmit",function(t,n,r,o,a){t.preventDefault();var i=e.props,c=i.match;(0,i.dispatch)({type:"CHANGE_CATEGORY",payload:{boardId:c.params.boardId,categoryId:n,name:e.state["".concat(n,"-name")]||r,short:e.state["".concat(n,"-short")]||o,color:e.state["".concat(n,"-color")]||a}})}),oi(ri(ri(e)),"handleDelete",function(t){var n=e.props,r=n.match;(0,n.dispatch)({type:"DELETE_CATEGORY",payload:{boardId:r.params.boardId,categoryId:t}})}),oi(ri(ri(e)),"handleDefaultCategoryChange",function(t){var n=e.props,r=n.match;(0,n.dispatch)({type:"CHANGE_DEFAULT_CATEGORY",payload:{boardId:r.params.boardId,categoryId:t}})}),oi(ri(ri(e)),"render",function(){var t=e.state,n=t.categoryName,r=t.categoryShort,o=e.props,a=o.categories,i=o.defaultCategory,c=a.filter(function(e){return""!==e.name});return j.a.createElement(ii,null,j.a.createElement("h2",null,"Categories"),j.a.createElement("h3",null,"Set Default Category:"),j.a.createElement("form",null,c.map(function(t){return j.a.createElement("label",{key:t._id},j.a.createElement("input",{type:"radio",value:t._id,checked:i===t._id,onChange:function(){return e.handleDefaultCategoryChange(t._id)}}),t.name)}),j.a.createElement("label",{key:"none"},j.a.createElement("input",{type:"radio",value:"none",checked:"none"===i,onChange:function(){return e.handleDefaultCategoryChange("none")}})," ","none")),j.a.createElement("h3",null,"Edit Categories:"),c.map(function(t){return j.a.createElement("form",{action:"",className:"edit-category-form",onSubmit:function(n){return e.handleEditCategorySubmit(n,t._id,t.name,t.short,t.color)},key:t._id},j.a.createElement("input",{className:"edit-category",type:"text",value:e.state["".concat(t._id,"-name")]||t.name,name:"name",onChange:function(n){return e.handleEditCategoryChange(n,t._id,"name")}}),j.a.createElement("input",{className:"edit-category short",type:"text",value:e.state["".concat(t._id,"-short")]||t.short,name:"short",onChange:function(n){return e.handleEditCategoryChange(n,t._id,"short")}}),j.a.createElement($a,{handleColorChange:function(n){return e.handleEditCategoryColorChange(n,t._id)},previousColor:e.state["".concat(t._id,"-color")]||t.color}),j.a.createElement(F.FiX,{className:"delete-button",onClick:function(){return e.handleDelete(t._id)}}),j.a.createElement("input",{type:"submit"}))}),j.a.createElement("h3",null,"Add a new Category:"),j.a.createElement("form",{onSubmit:e.handleSubmit,className:"new-category-form"},j.a.createElement("label",{htmlFor:"categoryName"},"Name:"),j.a.createElement("input",{className:"new-input",type:"text",name:"categoryName",value:n,onChange:e.handleNewCategoryChange,id:"categoryName"}),j.a.createElement("label",{htmlFor:"categoryShort"},"Short:"),j.a.createElement("input",{className:"new-input",type:"text",name:"categoryShort",value:r,onChange:e.handleNewCategoryChange,id:"categoryShort"}),j.a.createElement($a,{handleColorChange:function(t){return e.setState({categoryColor:t})}}),j.a.createElement("input",{type:"submit",value:"Add Category"})))}),e.state={categoryName:"",categoryShort:"",categoryColor:"",defaultCategory:"none"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ni(e,t)}(t,C["Component"]),t}();oi(ci,"propTypes",{match:P.a.shape({params:P.a.shape({boardId:P.a.string})}).isRequired,history:P.a.shape({push:P.a.func.isRequired}).isRequired,dispatch:P.a.func.isRequired,categories:P.a.array.isRequired});var ui=Object(N.withRouter)(Object(D.connect)(function(e,t){var n=t.match.params.boardId;return{boardTitle:e.boardsById[n].title,categories:e.boardsById[n].settings.categories,defaultCategory:e.boardsById[n].settings.defaultCategory}})(ci));function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function di(e,t){return(di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: ",";\n  width: 100%;\n  padding: 40px;\n  button {\n    padding: 5px 10px;\n    color: ",";\n    background: ",";\n    cursor: pointer;\n    border-radius: ",";\n  }\n  .eventCalendarInput {\n    width: 200px;\n  }\n"]);return bi=function(){return e},e}var mi=z.a.div(bi(),function(e){return e.theme.mainBackground},function(e){return e.theme.backgroundAccent},function(e){return e.theme.monotoneAccent},function(e){return e.theme.borderRadius}),yi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fi(pi(pi(n=function(e,t){return!t||"object"!==li(t)&&"function"!=typeof t?pi(e):t}(this,si(t).call(this,e)))),"handleSelection",function(){var e=n.props,t=e.match,r=e.history,o=e.boardTitle,a=t.params.boardId;r.push("/b/".concat(a,"/").concat(q()(o,{lower:!0})))}),fi(pi(pi(n)),"handleChange",function(e){n.setState({eventCalendarId:e.target.value})}),fi(pi(pi(n)),"handleSubmit",function(e){e.preventDefault();var t=n.props,r=t.match,o=t.dispatch,a=n.state.eventCalendarId;o({type:"CHANGE_EVENT_CALENDAR_ID",payload:{boardId:r.params.boardId,eventCalendarId:a}})}),fi(pi(pi(n)),"render",function(){var e=n.props.dispatch,t=n.state.eventCalendarId;return j.a.createElement(mi,null,j.a.createElement("button",{onClick:n.handleSelection},"Back"),j.a.createElement("h1",null,"Settings"),j.a.createElement(ui,{dispatch:e}),j.a.createElement("h2",null,"Change Event Calendar:"),j.a.createElement("p",null,"This is your email address associate with a google calendar"),j.a.createElement("form",{action:"",onSubmit:n.handleSubmit},j.a.createElement("input",{type:"text",className:"eventCalendarInput",value:t,onChange:n.handleChange}),j.a.createElement("input",{type:"submit",value:"Change Calendar"})))}),n.state={eventCalendarId:n.props.eventCalendarId||""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&di(e,t)}(t,C["Component"]),t}();fi(yi,"propTypes",{match:P.a.shape({params:P.a.shape({boardId:P.a.string})}).isRequired,history:P.a.shape({push:P.a.func.isRequired}).isRequired,dispatch:P.a.func.isRequired,eventCalendarId:P.a.string});var hi=Object(N.withRouter)(Object(D.connect)(function(e,t){var n=t.match.params.boardId;return{boardTitle:e.boardsById[n].title,eventCalendarId:e.boardsById[n].settings.eventCalendarId}})(yi));function gi(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\thtml {\n\t\tbox-sizing: border-box;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\n\t\t&::-webkit-scrollbar {\n\t\t\twidth: 10px;\n\t\t\theight: 10px;\n\t\t\tbackground: ",";\n\t\t}\n\n\t\t&::-webkit-scrollbar-thumb {\n\t\t\tborder-radius: 3px;\n\t\t\tbackground: ",";\n\t\t}\n\t}\n\n\t*, *:before, *:after {\n\t\tbox-sizing: inherit;\n\t}\n\n\tbody {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tmargin: 0;\n\t\tfont-family: 'Roboto', sans-serif;\n\t\tline-height: 1;\n\t}\n\n\t#app {\n\t\tdisplay: inline-flex;\n\t\theight: 100%;\n\t\tmin-width: 100%;\n\t}\n\n\tbutton,\n\tspan,\n\ta {\n\t\tvertical-align: baseline;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tfont-size: 100%;\n\t\tfont: inherit;\n\t}\n\n\ta {\n\t\tcolor: ",";\n\t}\n\n\tul {\n    list-style: none;\n    padding: 0;\n  }\n\n  hr {\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 1px solid ",";\n    padding: 0;\n    margin: 2px 0;\n\t}\n\n  .header {\n    font-size: 17px;\n    color: ",";\n    font-weight: 400;\n    overflow-wrap: break-word;\n\t\ttext-transform: uppercase;\n\n\t\t.number {\n\t\t\tcolor: ",';\n\t\t\tfont-size: 23px;\n\t\t\tfont-family: "Pacifico", cursive;\n\t\t}\n\t}\n\n\t.cursive-header {\n    font-size: 16px;\n    font-family: "Pacifico", cursive;\n    color: ',";\n\t}\n\n\t.badge {\n\t\tpadding: 2px 4px;\n\t\tborder-radius: ",";\n\t\tcolor: ",";\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n  .picker {\n    width: 30px;\n    height: 30px;\n    margin: 2px;\n    border: 1px "," solid;\n\t\tborder-radius: ",";\n\t\tcolor: ",";\n  }\n"]);return gi=function(){return e},e}var vi=Object(B.createGlobalStyle)(gi(),function(e){return e.theme.monotoneAccent},function(e){return e.theme.text},function(e){return e.theme.text},function(e){return e.theme.mainBackground},function(e){return e.theme.text},function(e){return e.theme.mainAccent},function(e){return e.theme.text},function(e){return e.theme.borderRadius},function(e){return e.theme.backgroundAccent},function(e){return e.theme.text},function(e){return e.theme.borderRadius},function(e){return e.theme.backgroundAccent}),wi="#FFFFFF",xi="#EAECEE",Oi="#C9CFD3",Ei="#73777b",ki="#51575D",Ci="#a03f2c",ji="#EA725B",Ii="#06C392",Si="#03926d",Di="#0075A3",Ai="#00578a",Ti={text:ki,success:Ii,successHover:Si,neutral:Di,neutralHover:Ai,failure:Ci,mainAccent:ji,monotoneAccent:Oi,mainBackground:xi,backgroundAccent:wi,easyDifficulty:Di,mediumDifficulty:Di,highDifficulty:xi,cardHover:xi,headerBackground:ki,cardButtonHover:ki,grey:Ei,negativeText:wi,negativeBackground:ki,listWidth:"300px",borderRadius:"3px",mainMargin:40,boardWidth:260,boardHeight:140,boardMargin:5,bs:"0 5px 18px 0 rgba(0, 0, 0, 0.03)",bsDragging:"0 7px 15px 0 rgba(0, 0, 0, 0.08)"},_i={text:wi,success:Ii,successHover:Si,neutral:Di,neutralHover:Ai,failure:Ci,mainAccent:ji,monotoneAccent:Oi,mainBackground:ki,backgroundAccent:Ei,easyDifficulty:xi,mediumDifficulty:Di,highDifficulty:xi,cardHover:xi,headerBackground:Ei,cardButtonHover:ki,transparentBlack:"rgba(0, 0, 0, 0.2)",transparentWhite:"rgba(255, 255, 255, 0.4)",listWidth:"300px",borderRadius:"3px",mainMargin:40,boardWidth:260,boardHeight:140,boardMargin:5,bs:"0 5px 18px 0 rgba(0, 0, 0, 0.03)",bsDragging:"0 7px 15px 0 rgba(0, 0, 0, 0.08)"};function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(){return(Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zi(e,t){return(zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mi=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return qi(Li(Li(n=function(e,t){return!t||"object"!==Ri(t)&&"function"!=typeof t?Li(e):t}(this,(e=Bi(t)).call.apply(e,[this].concat(o))))),"state",{isLight:!0}),qi(Li(Li(n)),"setBoardColor",function(e){n.setState({isLight:"light"===e})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zi(e,t)}(t,C["Component"]),function(e,t,n){t&&Ni(e.prototype,t),n&&Ni(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,r=t.isGuest,o=this.state.isLight;return j.a.createElement(B.ThemeProvider,{theme:o?Ti:_i},j.a.createElement(j.a.Fragment,null,j.a.createElement(vi,null),n||r?j.a.createElement(N.Switch,null,j.a.createElement(N.Route,{exact:!0,path:"/",component:ft}),j.a.createElement(N.Route,{path:"/b/:boardId/:boardTitle/settings",component:hi}),j.a.createElement(N.Route,{path:"/b/:boardId",render:function(t){return j.a.createElement(Sa,Pi({},t,{changeTheme:function(){return e.setState({isLight:!e.state.isLight})},setBoardColor:function(t){return e.setBoardColor(t)}}))}}),j.a.createElement(N.Redirect,{to:"/"})):j.a.createElement(N.Switch,null,j.a.createElement(N.Route,{exact:!0,path:"/",component:Ha}),j.a.createElement(N.Redirect,{to:"/"}))))}}]),t}();Mi.propTypes={user:P.a.object,isGuest:P.a.bool.isRequired};var Gi=Object(N.withRouter)(Object(D.connect)(function(e){return{user:e.user,isGuest:e.isGuest}})(Mi));function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e){var t=function(e,t){if("object"!==Fi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fi(t)?t:String(t)}function Ui(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yi(e,t,n[t])})}return e}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARD":var n=t.payload,r=n.cardText,o=n.cardId,a=n.createdAt,i=n.categoryId;return Wi({},e,Yi({},o,{text:r,_id:o,difficulty:1,minutes:5,createdAt:a,categoryId:i}));case"CHANGE_CARD_TEXT":var c=t.payload,u=c.cardText,l=c.cardId;return Wi({},e,Yi({},l,Wi({},e[l],{text:u})));case"CHANGE_CARD_DATE":var s=t.payload,d=s.date,p=s.cardId;return Wi({},e,Yi({},p,Wi({},e[p],{date:d})));case"CHANGE_CARD_CATEGORY":var f=t.payload,b=f.categoryId,m=f.cardId;return Wi({},e,Yi({},m,Wi({},e[m],{categoryId:b})));case"CHANGE_CARD_DIFFICULTY":var y=t.payload,h=y.difficulty,g=y.cardId;return Wi({},e,Yi({},g,Wi({},e[g],{difficulty:h})));case"CHANGE_CARD_MINUTES":var v=t.payload,w=v.minutes,x=v.cardId;return Wi({},e,Yi({},x,Wi({},e[x],{minutes:w})));case"CHANGE_CARD_STAR":var O=t.payload.cardId,E=!e[O].starred;return Wi({},e,Yi({},O,Wi({},e[O],{starred:E})));case"DELETE_CARD_CATEGORY":var k=t.payload.cardId,C=e[k],j=(C.categoryId,Ui(C,["categoryId"])),I=Ui(e,[k].map(Hi));return Wi(Yi({},k,j),I);case"DELETE_CARD":var S=t.payload.cardId;return e[S],Ui(e,[S].map(Hi));case"CHANGE_CARD_RECURRING":var D=t.payload,A=D.recurringText,T=D.cardId,_=D.nextDate,R=D.schedule;return Wi({},e,Yi({},T,Wi({},e[T],{recurringText:A,nextDate:_,schedule:R,active:!1})));case"CHANGE_CARD_SCHEDULE":var P=t.payload,N=P.cardId,B=P.nextDate;return Wi({},e,Yi({},N,Wi({},e[N],{nextDate:B,active:!1})));case"CHANGE_CARD_COMPLETED_AT":var z=t.payload,L=z.cardId,q=z.completedAt;return Wi({},e,Yi({},L,Wi({},e[L],{completedAt:q})));case"CHANGE_CARD_ACTIVE":var M=t.payload,G=M.cardId,F=M.active;return Wi({},e,Yi({},G,Wi({},e[G],{active:F})));case"DELETE_LIST":var H=t.payload.cards;return Object.keys(e).filter(function(e){return!H.includes(e)}).reduce(function(t,n){return Wi({},t,Yi({},n,e[n]))},{});default:return e}};function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ki(e){var t=function(e,t){if("object"!==Vi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vi(t)?t:String(t)}function Ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ec(e,t,n[t])})}return e}function ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARD":var n=t.payload,r=n.listId,o=n.cardId;return $i({},e,ec({},r,$i({},e[r],{cards:[].concat(Qi(e[r].cards),[o])})));case"MOVE_CARD":var a,i=t.payload,c=i.oldCardIndex,u=i.newCardIndex,l=i.sourceListId,s=i.destListId;if(l===s){var d=Array.from(e[l].cards),p=Ji(d.splice(c,1),1)[0];return d.splice(u,0,p),$i({},e,ec({},l,$i({},e[l],{cards:d})))}var f=Array.from(e[l].cards),b=Ji(f.splice(c,1),1)[0],m=Array.from(e[s].cards);return m.splice(u,0,b),$i({},e,(ec(a={},l,$i({},e[l],{cards:f})),ec(a,s,$i({},e[s],{cards:m})),a));case"DELETE_CARD":var y=t.payload,h=y.cardId,g=y.listId;return $i({},e,ec({},g,$i({},e[g],{cards:e[g].cards.filter(function(e){return e!==h})})));case"COMPLETE_CARD":var v,w="",x=t.payload.listId;for(var O in e)e.hasOwnProperty(O)&&"completed"===e[O].special&&(w=O);var E=e[x].cards.indexOf(t.payload.cardId),k=Array.from(e[x].cards),C=Ji(k.splice(E,1),1)[0],j=Array.from(e[w].cards);return j.splice(0,0,C),$i({},e,(ec(v={},x,$i({},e[x],{cards:k})),ec(v,w,$i({},e[w],{cards:j})),v));case"ADD_LIST":var I=t.payload,S=I.listId,D=I.listTitle,A=I.special;return $i({},e,ec({},S,A?{_id:S,title:D,cards:[],special:A}:{_id:S,title:D,cards:[]}));case"CHANGE_LIST_TITLE":var T=t.payload,_=T.listId,R=T.listTitle;return $i({},e,ec({},_,$i({},e[_],{title:R})));case"DELETE_LIST":var P=t.payload.listId;return e[P],Zi(e,[P].map(Ki));default:return e}};function nc(e){return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function oc(e){var t=function(e,t){if("object"!==nc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nc(t)?t:String(t)}function ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ic(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){uc(e,t,n[t])})}return e}function uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIST":var n=t.payload,r=n.boardId,o=n.listId;return cc({},e,uc({},r,cc({},e[r],{lists:[].concat(ic(e[r].lists),[o])})));case"MOVE_LIST":var a=t.payload,i=a.oldListIndex,c=a.newListIndex,u=a.boardId,l=a.completedListId,s=a.habitsListId,d=Array.from(e[u].lists),p=d.indexOf(l),f=d.indexOf(s);p>-1&&d.splice(p,1),f>-1&&d.splice(f,1);var b=ac(d.splice(i,1),1)[0];return d.splice(c,0,b),d.unshift(l),d.unshift(s),cc({},e,uc({},u,cc({},e[u],{lists:d})));case"DELETE_LIST":var m=t.payload,y=m.listId,h=m.boardId;return cc({},e,uc({},h,cc({},e[h],{lists:e[h].lists.filter(function(e){return e!==y})})));case"ADD_BOARD":var g=t.payload,v=g.boardTitle,w=g.boardId,x=g.userId,O=g.completedListId,E=g.habitsListId;return cc({},e,uc({},w,{_id:w,title:v,lists:[],users:[x],stats:{habits:{}},settings:{pomodoro:{notification:!0,audio:!0},goals:{habits:0},categories:[{name:"",short:"",color:"white",_id:g.categoryId}],defaultCategory:"none",eventCalendarId:"",color:"grey",completedListId:O,habitsListId:E}}));case"CHANGE_BOARD_TITLE":var k=t.payload,C=k.boardTitle,j=k.boardId;return cc({},e,uc({},j,cc({},e[j],{title:C})));case"CHANGE_BOARD_COLOR":var I=t.payload,S=I.boardId,D=I.color;return cc({},e,uc({},S,cc({},e[S],{settings:cc({},e[S].settings,{color:D})})));case"CHANGE_HABIT_STATS":var A=t.payload,T=A.boardId,_=A.habit,R={};return R=e[T].stats.habits[_.date]?uc({},_.date,[].concat(ic(e[T].stats.habits[_.date]),[_.cardId])):uc({},_.date,e[T].stats.habits[_.date]=[_.cardId]),cc({},e,uc({},T,cc({},e[T],{stats:cc({},e[T].stats,{habits:cc({},e[T].stats.habits,R)})})));case"CHANGE_SETTING":var P=t.payload,N=P.boardId,B=P.checkinDate;return cc({},e,uc({},N,cc({},e[N],{settings:cc({},e[N].settings,{checkinDate:B})})));case"CHANGE_LAST_CHECKIN":var z=t.payload,L=z.boardId,q=z.checkinDate;return cc({},e,uc({},L,cc({},e[L],{settings:cc({},e[L].settings,{checkinDate:q})})));case"CHANGE_POMODORO_SETTING":var M=t.payload,G=M.boardId,F=M.type,H=M.value;return cc({},e,uc({},G,cc({},e[G],{settings:cc({},e[G].settings,{pomodoro:cc({},e[G].settings.pomodoro,uc({},F,H))})})));case"CHANGE_GOAL_SETTING":var U=t.payload,W=U.boardId,Y=U.type,X=U.value;return cc({},e,uc({},W,cc({},e[W],{settings:cc({},e[W].settings,{goals:cc({},e[W].settings.goals,uc({},Y,X))})})));case"ADD_CATEGORY":var V=t.payload,Z=V.boardId,K=V.category;return cc({},e,uc({},Z,cc({},e[Z],{settings:cc({},e[Z].settings,{categories:[].concat(ic(e[Z].settings.categories),[K])})})));case"DELETE_CATEGORY":var J=t.payload,Q=J.boardId,$=J.categoryId;return cc({},e,uc({},Q,cc({},e[Q],{settings:cc({},e[Q].settings,{categories:e[Q].settings.categories.filter(function(e){return e._id!==$})})})));case"CHANGE_DEFAULT_CATEGORY":var ee=t.payload,te=ee.boardId,ne=ee.categoryId;return cc({},e,uc({},te,cc({},e[te],{settings:cc({},e[te].settings,{defaultCategory:ne})})));case"CHANGE_CATEGORY":var re=t.payload,oe=re.boardId,ae=re.categoryId,ie=re.name,ce=re.short,ue=re.color;return cc({},e,uc({},oe,cc({},e[oe],{settings:cc({},e[oe].settings,{categories:e[oe].settings.categories.map(function(e){return e._id==ae?cc({},e,{name:ie,short:ce,color:ue}):e})})})));case"CHANGE_EVENT_CALENDAR_ID":var le=t.payload,se=le.boardId,de=le.eventCalendarId;return cc({},e,uc({},se,cc({},e[se],{settings:cc({},e[se].settings,{eventCalendarId:de})})));case"DELETE_BOARD":var pe=t.payload.boardId;return e[pe],rc(e,[pe].map(oc));default:return e}};function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER":var n=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){sc(e,t,n[t])})}return e}({},e,{accessToken:n.accessToken,expiryDate:n.expiryDate});default:return e}},pc=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"ENTER_AS_GUEST":return!0;default:return e}},fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_BOARD_ID_IN_REDUX":case"ADD_BOARD":return t.payload.boardId;default:return e}},bc=Object(S.combineReducers)({cardsById:Xi,listsById:tc,boardsById:lc,user:dc,isGuest:pc,currentBoardId:fc}),mc=JSON.parse(Object(k.readFileSync)("./dist/public/manifest.json","utf8")),yc=Object(k.readFileSync)("./dist/public/main.css","utf8"),hc=function(e,t){var n=Object(S.createStore)(bc,e.initialState),r=[];Object(_.resetContext)();var o=Object(I.renderToString)(j.a.createElement(T.HeadCollector,{headTags:r},j.a.createElement(D.Provider,{store:n},j.a.createElement(A.StaticRouter,{location:e.url,context:{}},j.a.createElement(Gi,null))))),a=n.getState(),i='\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset="UTF-8">\n        <meta http-equiv="X-UA-Compatible" content="ie=edge">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">\n        <meta name="description" content="An open source kanban application created with React and Redux. ">\n        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/favicons/apple-touch-icon-144x144.png" />\n        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/static/favicons/apple-touch-icon-152x152.png" />\n        <link rel="icon" type="image/png" href="/static/favicons/favicon-32x32.png" sizes="32x32" />\n        <link rel="icon" type="image/png" href="/static/favicons/favicon-16x16.png" sizes="16x16" />\n        <meta name="msapplication-TileColor" content="#FFFFFF" />\n        <meta name="msapplication-TileImage" content="/static/favicons/mstile-144x144.png" />\n        <meta property="og:image" content="https://reactkanban.com/static/favicons/favicon-32x32.png">\n        <style>'.concat(yc,"</style>\n        ").concat(Object(I.renderToString)(r),'\n      </head>\n      <body>\n        <div id="app">').concat(o,"</div>\n      </body>\n      <script>\n        window.PRELOADED_STATE = ").concat(JSON.stringify(a),"\n      <\/script>\n      <script src=").concat(mc["main.js"],"><\/script>\n    </html>\n  ");t.send(i)},gc=n(46);function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wc=function(e){return e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vc(e,t,n[t])})}return e}({color:"white",_id:Fe.a.generate()},e)})},xc=function(e){var t=[{text:"### Supports GitHub flavored markdown\nFeaturing cutting edge HTML features like\n* Headings\n* Bullet points\n* **Bold** and *italic* text\n* Links\n* Images\n* ```\n() => {\n    // Code blocks\n}\n```\n\nWatch out, Netscape navigator 2.0!"},{text:"### Works on mobile devices\nUnlike a certain other website..."},{text:"### And more!\n[x] Colors\n[x] Deadlines\n[x] Checkboxes",color:"#ff6",date:new Date}],n=[{text:"### Edit a card\nYou can edit the contents of a card by clicking on it. Remember to use Shift + Enter to create a newline."},{text:"### Drag a card or list\nReposition cards and lists by dragging them with a mouse or touch gesture."},{text:'### Create a card or list\nAdd a new card to an existing list by clicking the + button below each list. You can add a new list by clicking the "Add a list"-button to the right'},{text:"### Add a checklist\nFor a task that has many sub-tasks, you can create a checklist with markdown.\n[x] Like this\n[ ] Click me"},{text:"### Change the board\nYou can edit the title of the board by clicking it. You can also change the color of the board by clicking the button in the top right corner."}];e||n.unshift({text:"### Sign in to save changes\nSince you are not signed in, your changes will not persist after you leave the website. Go back to the login screen by pressing the 'Sign in' button in the top right corner."});var r=Fe.a.generate(),o=Fe.a.generate(),a=Fe.a.generate();return{_id:Fe.a.generate(),title:"Tutorial board",color:"blue",lists:[{_id:Fe.a.generate(),title:"Welcome to React Kanban!",cards:wc([{text:"### An open source application inspired by Trello"},{text:"![Octocat](https://assets-cdn.github.com/images/modules/logos_page/Octocat.png)\nCheck out the [source code on GitHub](https://github.com/yogaboll/react-kanban)\n",color:"#6df"}])},{_id:Fe.a.generate(),title:"Features",cards:wc(t)},{_id:Fe.a.generate(),title:"How to use",cards:wc(n)},{_id:o,title:"Habits",cards:[],special:"habits"},{_id:r,title:"Completed",cards:[],special:"completed"}],users:e?[e]:[],stats:{habits:0},settings:{pomodoro:{notification:!0,audio:!0},goals:{habits:0},categories:[{name:"",short:"",color:"white",_id:a}],defaultCategory:"none",eventCalendarId:"",color:"grey",completedListId:r,habitsListId:o}}},Oc=function(e){var t=e.collection("users"),n=e.collection("boards");c.a.serializeUser(function(e,t){t(null,e._id)}),c.a.deserializeUser(function(e,n){t.findOne({_id:e}).then(function(e){n(null,e)})}),c.a.use(new gc.Strategy({clientID:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET,callbackURL:"".concat(process.env.ROOT_URL,"/auth/google/callback"),passReqToCallback:!0},function(e,r,o,a,i,c){var u=to()().add(a.expires_in,"s").format("X");t.findOne({_id:i.id}).then(function(e){if(e)c(null,e);else{var a={_id:i.id,name:i.displayName,imageUrl:i._json.image.url,accessToken:r,refreshToken:o,expiryDate:u};t.insertOne(a).then(function(){n.insertOne(xc(i.id)).then(function(){return c(null,a)})})}})}))},Ec=function(e){var t=Object(r.Router)(),n=e.collection("boards"),o=e.collection("users");return t.put("/board",function(e,t){var r=e.body;n.replaceOne({_id:r._id,users:e.user._id},r,{upsert:!0}).then(function(e){t.send(e)})}),t.delete("/board",function(e,t){var r=e.body.boardId;n.deleteOne({_id:r}).then(function(e){t.send(e)})}),t.put("/user",function(e,t){var n=e.body;o.updateOne({_id:n._id},{$set:{accessToken:n.accessToken,expiryDate:n.expiryDate}}).then(function(e){t.send(e)})}),t},kc=Object(r.Router)();kc.get("/google",c.a.authenticate("google",{scope:["profile","https://www.googleapis.com/auth/calendar"],accessType:"offline",prompt:"consent"})),kc.get("/google/callback",c.a.authenticate("google"),function(e,t){t.redirect("/")}),kc.get("/signout",function(e,t){e.logout(),t.redirect("/")});var Cc=kc,jc=n(19);function Ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sc=function(e){var t=new jc.schema.Entity("cardsById",{},{idAttribute:"_id"}),n=new jc.schema.Entity("listsById",{cards:[t]},{idAttribute:"_id"}),r=new jc.schema.Entity("boardsById",{lists:[n]},{idAttribute:"_id"});return Object(jc.normalize)(e,[r]).entities},Dc=function(e){return function(t,n,r){t.user?e.collection("boards").find({$or:[{users:t.user._id},{isPublic:!0}]}).toArray().then(function(e){t.initialState=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ic(e,t,n[t])})}return e}({},Sc(e),{user:t.user}),r()}):(t.initialState=Sc([xc()]),r())}};E.a.config();var Ac=o()(),Tc=d()(l.a);a.MongoClient.connect(process.env.MONGODB_URL).then(function(e){var t=e.db(process.env.MONGODB_NAME);Oc(t),Ac.use(h()()),Ac.use(x()("tiny")),Ac.use(f()()),Ac.use(v()("dist/public/favicons/favicon.ico")),Ac.use(o.a.json()),Ac.use(o.a.urlencoded({extended:!0})),Ac.use("/static",m()("dist/public",{enableBrotli:!0,maxAge:"1y"})),Ac.use(l()({store:new Tc({db:t}),secret:process.env.SESSION_SECRET,resave:!1,saveUninitialized:!1})),Ac.use(c.a.initialize()),Ac.use(c.a.session()),Ac.use("/auth",Cc),Ac.use("/api",Ec(t)),Ac.use(Dc(t)),Ac.get("*",hc);var n=process.env.PORT||"1337";Ac.listen(n,function(){return console.log("Server listening on port ".concat(n))})})}]);